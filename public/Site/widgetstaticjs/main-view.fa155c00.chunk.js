(this["webpackJsonp@livechat/chat-widget"]=this["webpackJsonp@livechat/chat-widget"]||[]).push([[0],{372:function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return m})),n.d(t,"a",(function(){return g}));var r=n(4),a=n(13),i=n(0),o=n(5),c=n(363),l=function(e){return Object(o.A)("transition-delay:",e,"ms;")},s=Object(o.A)("&-enter,&-appear{opacity:0;transform:translateY(8px);}&-enter-active,&-appear-active{opacity:1;transform:translateY(0);transition:opacity 100ms ease-in,transform 200ms ease-in;}&-exit{opacity:1;transform:translateY(0);}&-exit-active{opacity:0;transform:translateY(8px);transition:opacity 100ms ease-in,transform 200ms ease-in;}"),u=function(e){var t=e.delay,n=void 0===t?0:t,o=Object(a.a)(e,["delay"]);return i.createElement(c.a,Object(r.a)({},o,{timeout:200+n,classNames:s,className:l(n)}))},d=function(e){return void 0===e&&(e=0),Object(o.A)("transition-delay:",e,"ms;&-enter,&-appear{opacity:0;}&-enter-active,&-appear-active{opacity:1;transition:opacity 200ms ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity 200ms ease-out;}")},m=function(e){var t=e.delay,n=void 0===t?0:t,o=Object(a.a)(e,["delay"]);return i.createElement(c.a,Object(r.a)({},o,{timeout:200+n,classNames:d(n)}))},p=n(25),f=function(e){var t=e.slideDuration,n=e.opacityDuration,r=e.opacityDelay,a=e.theme;return Object(o.A)("&-exit{opacity:1;}&-exit-active,&-exit-done{opacity:0;transform:translateX(100%);transition:transform ",t,"ms ",a.transitions.easings.swift,",opacity ",n,"ms linear ",r,"ms;}")},b=(Object(p.b)((function(e){var t=e.transitionDuration,n=e.onTransitionStart,o=e.onTransitionEnd,l=e.theme,s=Object(a.a)(e,["transitionDuration","onTransitionStart","onTransitionEnd","theme"]),u=t,d=Math.floor(2/3*t),m=t-d;return i.createElement(c.a,Object(r.a)({},s,{timeout:t,onExited:o,onEntered:o,onExiting:n,onEntering:n,classNames:f({slideDuration:u,opacityDuration:d,opacityDelay:m,theme:l})}))})),function(e){return Object(o.A)("transition-delay:",e,"ms;")}),h=function(e){return Object(o.A)("&-enter,&-appear{opacity:0;transform:translateY(30px);}&-enter-active,&-appear-active{opacity:1;transform:translateY(0);transition:opacity 300ms ",e.transitions.easings.smooth,",transform 400ms ",e.transitions.easings.smooth,";}")},g=Object(p.b)((function(e){var t=e.theme,n=e.delay,o=void 0===n?0:n,l=Object(a.a)(e,["theme","delay"]);return i.createElement(c.a,Object(r.a)({},l,{timeout:400+o,className:b(o),classNames:h(t)}))}))},374:function(e,t,n){"use strict";var r=n(4),a=n(0),i=n(5),o=n(25),c=n(1),l=n(13),s=n(165),u=function(e,t,n){return void 0===n&&(n=[]),e.buttons?Object(r.a)({},e,{buttons:e.buttons.map((function(e){return Object(r.a)({},e,{disabled:t||!!Object(c.m)((function(t){return t===e.type}),n)})}))}):e},d=function(e){var t=e.card,n=e.disabledButtons,i=e.eventId,o=e.compactButtons,c=e.onActionButtonClick,d=Object(l.a)(e,["card","disabledButtons","eventId","compactButtons","onActionButtonClick"]),m=a.useState(!1),p=m[0],f=m[1];return a.useEffect((function(){if(p){var e=setTimeout((function(){f(!1)}),1e3);return function(){return clearTimeout(e)}}}),[p]),a.createElement(s.b,Object(r.a)({card:u(t,p,n),onButtonClick:function(e){f(!0),c({button:t.buttons[e],event:i})},compactButtons:o},d))},m=n(208),p=Object(o.b)((function(e){var t,n,i=e.theme,o=Object(l.a)(e,["theme"]);return i&&"modern"===i.name&&(t=150,n=250),a.createElement(m.a,Object(r.a)({maxWidth:t,maxHeight:n},o))})),f=Object(i.E)("span",{target:"e1vbunaw0"})("font-size:2.5em;"),b=function(e){var t=e.event,n=e.radiusType;return a.createElement(i.c,{radiusType:n},a.createElement(i.n,null,a.createElement(f,null,t.properties.text)))},h=n(209),g=n(85),v=n(203),E=function(e){function t(){return e.apply(this,arguments)||this}Object(g.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t,n){n&&this._messageListContext.scrollToBottom()},n.getSnapshotBeforeUpdate=function(e){return!this.shouldRenderPreview(e)&&this.shouldRenderPreview()&&this._messageListContext.isScrollOnBottom()},n.shouldRenderPreview=function(e){return void 0===e&&(e=this.props),Boolean(e.urlPreview.properties.title)},n.render=function(){var e=this;return a.createElement(i.m,null,(function(t){e._messageListContext=t;var n=e.props,r=n.urlPreview.properties,o=n.radiusType,l=Object(c.Z)(["url","link"],r.image);return e.shouldRenderPreview()?a.createElement(i.c,{radiusType:o},a.createElement(p,l),a.createElement(i.o,{subtitle:r.description,title:r.title})):a.createElement(i.c,{radiusType:o},a.createElement(v.a,{text:r.text}))}))},t}(a.Component),O=n(205),j=n(17),x=Object(i.E)("div",{target:"e1kfksj70"})("margin:0;margin-bottom:4px;font-size:1em;font-weight:400;");t.a=Object(o.b)((function(e){var t=e.event,n=e.mobile,o=e.radiusType,l=e.disabledButtons,s=e.onActionButtonClick,u=e.onShow,m=void 0===u?c.S:u,f=e.theme,g=e.compactButtons,v=void 0!==g&&g,y=e.rtl,w=n&&v;switch(Object(j.p)(m),t.type){case"carousel":return a.createElement(i.e,{dir:y?"rtl":"ltr",mobile:n,scrollableElementPadding:f.spaces.space5},t.properties.cards.map((function(e,n){return a.createElement(d,{key:n,card:e,horizontalLayout:w,eventId:t.id,compactButtons:v,disabledButtons:l,onActionButtonClick:s,TitleComponent:x})})));case"message":case"message_draft":return a.createElement(h.a,Object(r.a)({},t.properties,{own:t.own,radiusType:o,draft:"message_draft"===t.type&&null===t.serverId,eventId:t.properties.quickReplies&&t.id}));case"emoji":return a.createElement(b,{event:t,radiusType:o});case"rich_message":return a.createElement(d,{eventId:t.id,horizontalLayout:w,card:t.properties.card,compactButtons:v,disabledButtons:l,onActionButtonClick:s});case"sticker":return a.createElement(O.a,t.properties);case"url_preview":return a.createElement(E,{radiusType:o,urlPreview:t});case"image_preview":var k=Object(c.Z)(["url","link","width","height","srcSet","alternativeText"],t.properties);return a.createElement(p,k)}return null}))},409:function(e,t){},415:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n(32),i=n(5),o=n(17),c=n(3),l=n(6),s=n(4),u=n(1),d=n(364),m=n(100),p=n(123),f=n(161),b=n(14),h=n(372),g=n(13),v=n(363),E=function(e,t){var n=new Date(e);return n.toLocaleDateString()===(new Date).toLocaleDateString()?t.today(n):function(e){var t=new Date;return t.setDate(t.getDate()-1),e.toLocaleDateString()===t.toLocaleDateString()}(n)?t.yesterday(n):n.toLocaleDateString([],{year:"numeric",month:"2-digit",day:"2-digit"})},O=function(){return"IntersectionObserver"in window&&"IntersectionObserverEntry"in window},j=function(e,t,n){var r=Object(u.xb)(t).sort((function(e,t){return e.timestamp-t.timestamp})),a=Object(u.n)((function(t){return t.node===e}),r);if(a>-1)return{currentTimestamp:r[a].timestamp,previousTimestamp:a>0?r[a-1].timestamp:n}},x=function(e,t){var n=r.useRef({beginingOfTime:t,currentTimestamp:0,subscribers:[],dividers:{}}),a=function(e){var t=e.rootRef,n=e.rootMargin,a=e.threshold,i=e.intersectionHandler;if(O()){var c=r.useRef(null),l=r.useRef([]),s=Object(o.m)(i);return r.useEffect((function(){return c.current=new IntersectionObserver((function(e,t){s.current&&s.current(e,t)}),{root:t.current,rootMargin:n,threshold:a}),l.current.forEach((function(e){return c.current.observe(e)})),l.current=[],function(){return c.current.disconnect()}}),[n,a,t,s]),Object(o.e)((function(){return{add:function(e){c.current?c.current.observe(e):l.current.push(e)},remove:function(e){c.current?c.current.unobserve(e):l.current=l.current.filter((function(t){return t!==e}))}}}))}}({rootRef:e,intersectionHandler:function(e){var t=function(e,t,n){var r=e.filter((function(e){return e.isIntersecting})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top}))[0];if(r){var a=j(r.target,t,n);return a&&a.previousTimestamp}var i=e.filter((function(e){return e.boundingClientRect.top<=e.rootBounds.top})).sort((function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top})).reverse()[0];if(i){var o=j(i.target,t,n);return o&&o.currentTimestamp}}(e,n.current.dividers,n.current.beginingOfTime);if(t){var r={timestamp:t,direction:t>n.current.currentTimestamp?"down":"up"};n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e(r)}))}},threshold:.2});return r.useEffect((function(){var e=Object(u.xb)(n.current.dividers).map((function(e){return e.timestamp})),t=Math.max.apply(Math,e.concat([n.current.beginingOfTime]));n.current.currentTimestamp=t,n.current.subscribers.forEach((function(e){return e({timestamp:t,direction:"up"})}))}),[]),Object(o.e)((function(){return{add:function(e){n.current.dividers[e.timestamp]=e,a&&a.add(e.node)},remove:function(e){a&&a.remove(e.node),delete n.current.dividers[e.timestamp]},subscribe:function(e){n.current.subscribers.push(e)},unsubscribe:function(e){n.current.subscribers=n.current.subscribers.filter((function(t){return t!==e}))},setBeginingOfTime:function(e){n.current.beginingOfTime=e},currentTimestamp:function(){return n.current.currentTimestamp}}}))},y=r.createContext(null),w=function(){return r.useContext(y)},k=function(e){var t=e.children,n=e.rootRef,a=e.beginingOfTime,i=x(n,a);return r.useEffect((function(){i.setBeginingOfTime(a)})),r.createElement(y.Provider,{value:i},t)},C=Object(i.E)("span",{displayName:"DividerLabel",target:"eceo2x80"})("padding:4px 8px;font-size:12px;position:relative;padding:0 8px;&:before,&:after{content:'';width:50vw;height:0;border-top:1px solid;border-top-color:inherit;position:absolute;top:50%;}&:before{right:100%;}&:after{left:100%;}"),S=Object(i.E)("div",{target:"e1g4em790"})("position:relative;"),R=Object(i.E)(C,{target:"e1g4em791"})("color:",(function(e){return e.theme.colors.text.black}),";overflow:hidden;border:1px solid ",(function(e){return e.theme.colors.divider}),";background-color:",(function(e){return e.theme.colors.surface.light}),";border-radius:",(function(e){return e.theme.borderRadius.md}),";padding:2px 6px;transition:opacity 150ms linear;",(function(e){return!e.visible&&Object(i.A)("opacity:0;pointer-events:none;")})),T=Object(i.E)("span",{target:"e1g4em792"})(),_=function(e){return Object(i.A)("&-enter ",T,",&-exit ",T,"{position:relative;}&-enter ",T,"{top:","up"===e?"-2em":"2em",";}&-enter-active ",T,"{top:0;transition:top ",200,"ms ease-out;}&-exit{opacity:1;}&-exit-active{opacity:0;transition:opacity ",200,"ms ease-out;}&-exit ",T,"{top:0;position:relative;}&-exit-active ",T,"{top:","up"===e?"2em":"-2em",";transition:top ",200,"ms ease-out;}")};var A=O()?function(e){var t=e.isUserScrollingSource,n=Object(g.a)(e,["isUserScrollingSource"]),i=Object(o.v)(t),c=w(),l=r.useState({direction:"up",timestamp:c.currentTimestamp()}),u=l[0],m=l[1];return r.useEffect((function(){c.subscribe(m);var e=c.currentTimestamp();return e!==u.timestamp&&m({direction:"up",timestamp:e}),function(){return c.unsubscribe(m)}}),[c]),u.timestamp?r.createElement(a.a,null,(function(e){var t=E(u.timestamp,{today:function(){return e("today")},yesterday:function(){return e("yesterday")}});return r.createElement(S,null,r.createElement(d.a,{component:null,childFactory:function(e){return r.cloneElement(e,{classNames:_(u.direction)})}},r.createElement(v.a,{key:t,classNames:_(u.direction),timeout:200},r.createElement(R,Object(s.a)({},n,{visible:i}),r.createElement(T,null,t)))))})):null}:function(){return null},z=function(e){var t=w();r.useEffect((function(){var n={timestamp:e.timestamp,node:e.nodeRef.current};return t.add(n),function(){t.remove(n)}}),[])},I=Object(i.E)("div",{target:"ehmqpie0"})("height:20px;margin:16px -0.5em;text-align:center;overflow:hidden;"),M=function(e){var t=e.timestamp,n=r.useRef(null);return z({timestamp:t,nodeRef:n}),r.createElement(a.a,null,(function(e){return r.createElement(I,{innerRef:n},r.createElement(C,null,E(t,{today:function(e){return e.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},yesterday:function(){return e("yesterday")}})))}))},B=n(46),F=Object(i.E)("div",{displayName:"NewMessageHorizontalDivider",target:"eacid5n0"})("height:27px;margin:16px -0.5em;text-align:center;overflow:hidden;"),N=Object(i.E)(B.w,{target:"eacid5n1"})("display:inline-flex;padding:2px 12px;font-weight:normal;box-shadow:none;height:auto;&:before,&:after{border-top:0;}"),H=function(e){var t=e.unseenCount,n=e.setScrollTargetNode,i=r.useRef(null);return Object(o.p)((function(){i.current&&n(i.current)})),r.createElement(a.a,null,(function(e){return r.createElement(F,{innerRef:i},r.createElement(N,{minScale:.9,maxScale:1.05},e(1===t?"new_message":"new_messages")))}))},L=n(25),D=n(12),P=Object(i.E)("div",{displayName:"Divider",target:"evqzb400"})("border-top:1px solid rgba(0,0,0,0.05);margin:0 1em;margin-bottom:-1px;z-index:10;position:relative;"),q=Object(i.E)("div",{target:"ekfrplk0"})((function(e){return e.theme.typography.basic})," color:inherit;display:flex;width:100%;flex-direction:",(function(e){return e.compact?"row":"column"}),";"),V=Object(i.E)("div",{target:"e1lbo1s40"})("display:flex;justify-content:center;flex-shrink:0;"),U=Object(i.E)("div",{displayName:"IconLabel",target:"e1lbo1s41"})("background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border-radius:",(function(e){return e.theme.borderRadius.round}),";display:flex;justify-content:center;align-items:center;",(function(e){return{width:e.size,height:e.size}}),";"),G=function(e){var t=e.size,n=void 0===t?"64px":t,a=e.children,i=Object(g.a)(e,["size","children"]);return r.createElement(V,null,r.createElement(U,Object(s.a)({size:n},i),a))},W=Object(i.E)(G,{target:"eua2v1x0"})("margin:",(function(e){return e.compact?"0px 15px 0 0":"4px 15px 4px 0"}),";"),Y=function(e){e.compact;var t=Object(g.a)(e,["compact"]);return r.createElement(W,t)},Z=n(199),Q=n.n(Z),J=n(59),K=function(e){return void 0===e&&(e=3),Object(i.A)("-webkit-line-clamp:",e,";-webkit-box-orient:vertical;-webkit-box-pack:center;display:-webkit-box;text-overflow:ellipsis;overflow:hidden;")},X=function(e){return e.stopPropagation()},$=Object(i.E)("a",{target:"ecc17ou0"})("color:inherit;"),ee=function(e){return r.createElement($,Object(s.a)({rel:"nofollow noopener",target:"_blank",textWrap:!0},e,{onClick:X}))},te=Object(i.E)("div",{target:"e1dlrkch0"})((function(e){return K(e.lines)}),";text-align:",(function(e){return e.compact?"left":"center"}),";margin:",(function(e){return e.compact?"0px":"0 20px 10px"}),";a{color:inherit;}"),ne=function(e){var t=e.compact,n=e.text,a=r.useMemo((function(){return Object(J.b)(n)}),[n]);return r.createElement(te,{title:a,lines:t?4:8,compact:t},r.createElement(J.a,{template:n,root:{component:Q.a,props:{component:ee}}}))},re=function(e){var t=e.text,n=e.compact;return r.createElement(q,{compact:n},r.createElement(Y,{size:"36px",compact:n},r.createElement(B.j,null)),r.createElement(ne,{text:t,compact:n}))},ae=function(e){var t=e.template,n=void 0===t?"":t,a=e.numberInQueue,i=e.waitingTime,o=e.compact,c=n.replace(/%number%/g,"**"+a+"**").replace(/%minutes%/g,"**"+Math.floor(i/60)+"**");return r.createElement(q,{compact:o},r.createElement(Y,{size:"36px",compact:o},r.createElement(B.g,null)),r.createElement(ne,{text:c,compact:o}))},ie=function(){return!0},oe=Object(a.c)((function(e,t){var n=t.name,r=t.condition,a=void 0===r?ie:r;return function(e){var t=Object(l.g)(n,e),r=t.enabled,i=Object(g.a)(t,["enabled"]);return{shouldRender:r&&a(i)}}}))((function(e){var t=e.shouldRender,n=e.children;return t?n:null})),ce=n(85),le=n(389),se=n(74),ue=function(e){return document.getElementById(e)},de=function(e){var t=e.portalId,n=void 0===t?"app-portal":t,a=e.children,i=r.useState((function(){return ue(n)})),c=i[0],l=i[1];return Object(o.p)((function(){c||l(ue(n))})),c?se.createPortal(a,c):null},me=function(e){return{enter:300,exit:e+300}},pe=function(e,t){return Object(i.A)("&-enter,&-appear{background-color:rgba(0,0,0,0);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{background-color:rgba(0,0,0,0.5);transition:background-color ",300,"ms ",t.transitions.easings.smooth,";}&-exit{background-color:rgba(0,0,0,0.5);}&-exit-active,&-exit-done{background-color:rgba(0,0,0,0);transition:background-color ",300,"ms ",t.transitions.easings.smooth,";transition-delay:",e,"ms;}")},fe=Object(i.A)("z-index:999;position:absolute;top:0;left:0;right:0;bottom:0;border-radius:inherit;"),be=function(e){var t=r.useRef(null);return Object(o.g)("touchmove",t),r.createElement("div",Object(s.a)({ref:t,className:fe},e))},he=r.memo(Object(L.b)((function(e){var t=e.shown,n=e.exitDelay,a=void 0===n?100:n,i=e.onClick,o=e.theme;return r.createElement(d.a,{appear:!0,component:null},t&&r.createElement(v.a,{classNames:pe(a,o),timeout:me(a)},r.createElement(be,{onClick:i})))}))),ge=Object(i.A)("margin:0;background:transparent;"),ve=function(e){return Object(i.A)("position:absolute;z-index:1500;width:calc(100% - 2rem);max-width:290px;top:1em;left:50%;background:",e.colors.surface.light,";box-shadow:",e.boxShadow.lg,";padding:",1*e.spaceBase,"px;border-radius:",e.borderRadius.md,";")},Ee=Object(i.E)("div",{target:"e1yhh5l70"})("display:flex;flex-direction:row-reverse;"),Oe=Object(i.E)("div",{target:"e1yhh5l71"})("padding:",(function(e){return 1*e.theme.spaceBase}),"px;padding-top:0;"),je={enter:300,exit:300},xe=function(e){return Object(i.A)("&-enter{transform:translate(-50%,20%);opacity:0;}&-enter-active,&-enter-done{transition:transform ",300,"ms ",e.transitions.easings.swift,",opacity ",300,"ms ",e.transitions.easings.swift,";transform:translate(-50%,0%);opacity:1;}&-exit{transform:translate(-50%,0%);opacity:1;}&-exit-active,&-exit-done{transform:translate(-50%,20%);opacity:0;transition:transform ",300,"ms ",e.transitions.easings.swift,",opacity ",150,"ms ease-out 50ms;}")},ye=r.forwardRef((function(e,t){var n=e.onClose,a=void 0===n?u.S:n,i=e.children,c=e.theme,l=Object(g.a)(e,["onClose","children","theme"]);return Object(o.o)(27,a),Object(o.c)(t),r.createElement(le.a,{autoFocus:!0,returnFocus:!0,crossFrame:!1,className:ve(c),ref:t,lockProps:Object(s.a)({role:"dialog","aria-modal":!0},l)},r.createElement(Ee,null,r.createElement(B.h,{className:ge,onClick:a,"aria-label":"Close modal"},r.createElement(B.d,{"aria-hidden":!0}))),r.createElement(Oe,null,i))})),we=Object(L.b)((function(e){var t=e.onClose,n=void 0===t?u.S:t,a=e.shown,i=e.children,o=e.theme,c=Object(g.a)(e,["onClose","shown","children","theme"]),l=r.useRef(null);return r.createElement(de,null,r.createElement(he,{shown:a,onClick:n,exitDelay:25}),r.createElement(d.a,{component:null},a&&r.createElement(v.a,{nodeRef:l,classNames:xe(o),timeout:je},r.createElement(ye,Object(s.a)({onClose:n,theme:o,ref:l},c),i))))})),ke=n(369),Ce=n(384),Se=n(198),Re=Object(i.E)("form",{displayName:"Form",section:!0,target:"e1nyj5rz0"})(),Te=n(259),_e=Object(i.E)(Te.a,{target:"exlwksr0"})("margin:0;transition:height 100ms ",(function(e){return e.theme.transitions.easings.linear}),";overflow:hidden;",(function(e){return e.theme.typography.errorCaption})),Ae=function(e){var t=e.id,n=e.error,a=r.useRef(null);return r.useLayoutEffect((function(){var e=a.current;if(n){e.style.height="auto";var t=getComputedStyle(e).height;e.style.height="0",function(e){e.scrollTop}(e),e.style.height=t}else e.style.height="0"}),[n]),r.createElement(_e,{id:t,innerRef:a,role:"alert"},n)},ze=Object(i.E)("label",{target:"e2zxkge0"})("width:100%;display:inline-block;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,r=void 0!==n&&n;return[t.typography.basic,r&&Object(i.A)("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,"}")]}));ze.defaultProps={textWrap:!0};var Ie=ze,Me=Object(i.E)("legend",{target:"e1kph7ea0"})("padding:0;display:inline-block;width:100%;a{color:inherit;}",(function(e){var t=e.theme,n=e.isRequired,r=void 0!==n&&n;return[t.typography.basic,r&&Object(i.A)("&::after{display:inline;content:'\\00a0*';",t.typography.errorCaption,"}")]}));Me.defaultProps={textWrap:!0};var Be=Me,Fe=Object(i.E)("div",{target:"e1oy1v900"})((function(e){return{margin:.25*e.theme.spaceBase+"px 0"}})),Ne=Object(i.E)("div",{target:"e1oy1v901"})("position:relative;display:inline-block;cursor:pointer;width:40px;height:40px;outline-style:",(function(e){return e.focused?"auto":"none"}),";"),He=Object(i.E)("input",{target:"e1oy1v902"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;cursor:pointer;"),Le=Object(i.E)("div",{target:"e1oy1v903"})("width:",(function(e){return.75*e.theme.spaceBase}),"px;display:inline-block;"),De=Object(i.E)(B.i,{target:"e1oy1v904"})((function(e){var t=e.theme;return e.checked?Object(i.A)("color:",t.colors.text.white,";background-color:",t.colors.cta,";"):Object(i.A)("color:",t.colors.text.black,";background-color:",t.colors.lightVariant,";")})),Pe=function(e){var t=e.rate,n=e.input,a=e.label,i=e.required,c=Object(o.i)(),l=c.focusVisible,d=Object(g.a)(c,["focusVisible"]),m=n.value===t,p=function(e){e.preventDefault(),n.onChange(m?"":t)};return r.createElement(Ne,{focused:l},r.createElement(He,Object(s.a)({type:"radio",name:n.name,checked:m,value:t,"aria-required":i,"aria-label":a,onClick:p,onKeyDown:function(e){l&&"Enter"===e.key&&p(e)},onChange:u.S},d)),r.createElement(De,{checked:m},"good"===t?r.createElement(B.t,null):r.createElement(B.s,null)))},qe=function(e){var t=e.input,n=e.meta,i=e.required,o=n.error&&n.touched;return r.createElement(a.a,null,(function(e){return r.createElement(Fe,null,r.createElement(Pe,{rate:"good",input:t,label:e("rate_me_good_tooltip"),required:i}),r.createElement(Le,null),r.createElement(Pe,{rate:"bad",input:t,label:e("rate_me_bad_tooltip"),required:i}),r.createElement(Ae,{error:o?n.error:null}))}))},Ve=n(62),Ue=Object(i.E)("div",{target:"egtcv0s0"})("position:relative;border:1px solid ",(function(e){return e.theme.colors.border}),";border-radius:",(function(e){return e.theme.borderRadius.sm}),";width:100%;background-color:",(function(e){return e.theme.colors.surface.light}),";transition:border-color 100ms linear;",(function(e){var t=e.focused,n=e.theme;return Object(s.a)({margin:.25*n.spaceBase+"px 0"},t?{borderColor:n.colors.accent}:{})})),Ge=Object(i.E)("select",{target:"egtcv0s1"})("width:100%;-webkit-appearance:none;font-family:inherit;background-color:transparent;border:none;:focus,:active{outline:none;}::-ms-expand{display:none;}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography;return Object(s.a)({},r.input,{padding:n+"px",paddingRight:"32px",":-moz-focusring":{color:"transparent",textShadow:"0 0 0 "+r.input.color}})})),We=Object(i.A)("position:absolute;pointer-events:none;right:0;top:calc(50% - ",16,"px);"),Ye=function(e){var t=e.onFocus,n=e.onBlur,a=Object(g.a)(e,["onFocus","onBlur"]),i=r.useState(!1),o=i[0],c=i[1];return r.createElement(Ue,{focused:o},r.createElement(Ge,Object(s.a)({},a,{onFocus:function(e){t&&t(e),c(!0)},onBlur:function(e){n&&n(e),c(!1)}})),r.createElement(Ve.e,{"aria-hidden":!0,focusable:"false",className:We}))},Ze=function(e){var t=e.input,n=e.meta,a=Object(g.a)(e,["input","meta"]),i=n.touched&&!!n.error;return r.createElement(r.Fragment,null,r.createElement(Ye,Object(s.a)({},t,a,{"aria-invalid":i||void 0})),r.createElement(Ae,{error:i?n.error:null}))},Qe=Object(i.E)("input",{target:"e1xplv9i0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.border}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.surface.light}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear;:focus,:active{outline:none;border-color:",(function(e){return e.theme.colors.accent}),";}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,a=t.borderRadius;return Object(s.a)({borderRadius:a.def},r.input,{padding:n+"px",margin:.25*n+"px 0"})})),Je=function(e){var t=e.value,n=e.errorMessageProps,a=e.inputRef,i=Object(g.a)(e,["value","errorMessageProps","inputRef"]);return r.createElement(r.Fragment,null,r.createElement(Qe,Object(s.a)({},i,{innerRef:a,value:t||""})),r.createElement(Ae,n))},Ke=Object(i.E)("textarea",{target:"edsifzp0"})("width:100%;border:1px solid ",(function(e){return e.theme.colors.border}),";-webkit-appearance:none;background-color:",(function(e){return e.theme.colors.surface.light}),";font-family:inherit;box-shadow:none;transition:border-color 100ms linear;resize:none;:focus,:active{outline:none;border-color:",(function(e){return e.theme.colors.accent}),";}",(function(e){var t=e.theme,n=t.spaceBase,r=t.typography,a=t.borderRadius;return Object(s.a)({borderRadius:a.def},r.input,{padding:n+"px",margin:.25*n+"px 0"})})),Xe=function(e){var t=e.value,n=e.errorMessageProps,a=e.textareaRef,i=Object(g.a)(e,["value","errorMessageProps","textareaRef"]);return r.createElement(r.Fragment,null,r.createElement(Ke,Object(s.a)({},i,{innerRef:a,value:t||""})),r.createElement(Ae,n))},$e=function(e){return r.createElement("path",Object(s.a)({d:"M4,0.5 C2.06700338,0.5 0.5,2.06700338 0.5,4 L0.5,12 C0.5,13.9329966 2.06700338,15.5 4,15.5 L12,15.5 C13.9329966,15.5 15.5,13.9329966 15.5,12 L15.5,4 C15.5,2.06700338 13.9329966,0.5 12,0.5 L4,0.5 Z"},e))},et=function(e){return r.createElement("path",Object(s.a)({d:"M4,0 L12,0 C14.209139,-4.4408921e-16 16,1.790861 16,4 L16,12 C16,14.209139 14.209139,16 12,16 L4,16 C1.790861,16 0,14.209139 0,12 L0,4 C-4.4408921e-16,1.790861 1.790861,0 4,0 Z"},e))},tt=function(e){return r.createElement("polyline",Object(s.a)({strokeWidth:"2",strokeDasharray:"10",strokeLinecap:"round",strokeLinejoin:"round",points:"5 7.90626754 7.06606709 10 12 5"},e))},nt=function(e){return Object(i.A)("animation-iteration-count:1;animation-timing-function:",e.transitions.easings.linear,";animation-fill-mode:forwards;animation-duration:300ms;")},rt=Object(i.D)("0%{opacity:0;}33.33%{opacity:1;}100%{opacity:1;}"),at=Object(i.D)("0%{stroke-dashoffset:10;}33.33%{stroke-dashoffset:10;}77.78%{stroke-dashoffset:0;}100%{stroke-dashoffset:0;}"),it=Object(L.b)((function(e){var t=e.className,n=e.checked,a=e.focused,o=e.theme,c=Object(g.a)(e,["className","checked","focused","theme"]);return r.createElement("svg",Object(s.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",className:Object(i.B)(Object(i.A)("border-radius:",o.borderRadius.sm,";background-color:",o.colors.surface.light,";"),a&&Object(i.A)("box-shadow:",o.boxShadow.outline,";"),t)},c),r.createElement($e,{stroke:o.colors.border}),n&&r.createElement(r.Fragment,null,r.createElement(et,{fill:o.colors.accent,className:Object(i.A)(nt(o)," animation-name:",rt,";")}),r.createElement(tt,{stroke:o.colors.text.white,className:Object(i.A)(nt(o)," animation-name:",at,";")})))})),ot=Object(i.E)("input",{target:"e81sjne0"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;"),ct=r.forwardRef((function(e,t){var n=e.className,a=e.defaultChecked,c=void 0!==a&&a,l=e.checked,d=e.id,m=e.onBlur,p=void 0===m?u.S:m,f=e.onChange,b=void 0===f?u.S:f,h=e.onFocus,v=void 0===h?u.S:h,E=Object(g.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),O=r.useState(void 0!==l?l:c),j=O[0],x=O[1],y=r.useState(!1),w=y[0],k=y[1],C=Object(o.h)();void 0!==l&&j!==l&&x(l);return r.createElement("div",{className:Object(i.B)(Object(i.A)("display:inline-block;position:relative;height:16px;width:16px;"),n)},r.createElement(ot,Object(s.a)({type:"checkbox",checked:j,id:d,onChange:function(e){b(e),void 0===l&&x((function(e){return!e}))},onFocus:function(e){v(e),"keyboard"===C()&&k(!0)},onBlur:function(e){p(e),k(!1)},innerRef:t},E)),r.createElement(it,{"aria-hidden":!0,checked:j,focused:w,focusable:"false"}))})),lt=Object(L.b)((function(e){var t=e.theme,n=e.color,a=void 0===n?t.colors.border:n,i=Object(g.a)(e,["theme","color"]);return r.createElement("circle",Object(s.a)({fillRule:"nonzero",fill:a,cx:"8",cy:"8",r:"3.5"},i))})),st=Object(L.b)((function(e){var t=e.theme,n=e.color,a=void 0===n?t.colors.border:n,i=Object(g.a)(e,["theme","color"]);return r.createElement("circle",Object(s.a)({fillRule:"nonzero",cx:"8",cy:"8",r:"7.5",stroke:a,strokeWidth:"1"},i))})),ut=Object(i.D)("0%{transform:scale(0,0);}50%{transform:scale(1.1,1.1);}66.67%{transform:scale(1.1,1.1);}83.33%{transform:scale(0.95,0.95);}100%{transform:scale(1,1);}"),dt=Object(i.D)("0%{opacity:0;}83.33%{opacity:1;}100%{opacity:1;}"),mt=function(e){return Object(i.A)("animation-duration:200ms;animation-iteration-count:1;animation-fill-mode:forwards;animation-timing-function:",e.transitions.easings.linear,";")},pt=Object(L.b)((function(e){var t=e.className,n=e.checked,a=e.focused,o=e.theme,c=Object(g.a)(e,["className","checked","focused","theme"]);return r.createElement("svg",Object(s.a)({width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",fillRule:"evenodd",className:Object(i.B)(Object(i.A)("border-radius:",o.borderRadius.round,";background-color:",o.colors.surface.light,";"),a&&Object(i.A)("box-shadow:",o.boxShadow.outline,";"),t)},c),r.createElement(st,null),n&&r.createElement(r.Fragment,null,r.createElement(st,{color:o.colors.accent,className:Object(i.A)(mt(o)," animation-name:",dt,";")}),r.createElement(lt,{color:o.colors.accent,className:Object(i.A)(mt(o)," animation-name:",ut,";transform-origin:50% 50%;")})))})),ft=Object(i.E)("input",{target:"e12lg4gr0"})("opacity:0;margin:0;padding:0;height:100%;width:100%;position:absolute;"),bt=function(e){var t=e.className,n=e.defaultChecked,a=void 0!==n&&n,c=e.checked,l=e.id,d=e.onBlur,m=void 0===d?u.S:d,p=e.onChange,f=void 0===p?u.S:p,b=e.onFocus,h=void 0===b?u.S:b,v=Object(g.a)(e,["className","defaultChecked","checked","id","onBlur","onChange","onFocus"]),E=r.useState(void 0!==c?c:a),O=E[0],j=E[1],x=r.useState(!1),y=x[0],w=x[1],k=Object(o.h)();void 0!==c&&O!==c&&j(c);return r.createElement("div",{className:Object(i.B)(Object(i.A)("display:inline-block;position:relative;height:16px;width:16px;"),t)},r.createElement(ft,Object(s.a)({type:"radio",checked:O,id:l,onChange:function(e){f(e),void 0===c&&j((function(e){return!e}))},onBlur:function(e){m(e),w(!1)},onFocus:function(e){h(e),"keyboard"===k()&&w(!0)},required:!0},v)),r.createElement(pt,{"aria-hidden":!0,checked:O,focused:y,focusable:"false"}))},ht=n(200);var gt=function(e){var t=e.label,n=e.submitting,a=Object(g.a)(e,["label","submitting"]);return r.createElement(ht.a,Object(s.a)({pending:n,disabled:n,type:"submit"},a),r.createElement("span",null,t))},vt=n(411),Et={},Ot={submitError:!0},jt={submitting:!0},xt={values:!0},yt=Object(Ce.a)(),wt={format:function(e){return Object(u.tb)(e||"")},formatOnBlur:!0},kt=function(e){var t=e.meta,n=Object(Se.d)(),r=null;return t.submitError&&!t.dirtySinceLastSubmit?r=t.submitError:t.touched&&t.error&&(r=t.error),{validationState:r?"invalid":"valid",errorMessageProps:{error:r,id:n}}},Ct=function(e,t){var n=t.name,r=t.ariaLabel,a=t.label,i=t.required,o=t.type,c=t.autoComplete,l=Object(ke.c)(n,wt),u=kt(l),d=u.validationState,m=u.errorMessageProps,p=Object(vt.a)(Object(s.a)({id:n,type:o,isRequired:i,autoComplete:c,validationState:d,"aria-errormessage":m.id,label:a,"aria-label":r},l.input),e);return{inputProps:p.inputProps,labelProps:p.labelProps,errorMessageProps:m}},St=function(){return r.createElement(ke.b,{subscription:Ot},(function(e){var t=e.submitError;return r.createElement(Ae,{error:t||null})}))},Rt=n(69),Tt=document.hasFocus?function(){return document.hasFocus()}:function(){return!1},_t=function(e){return void 0===e&&(e=Object(Rt.b)()),!e&&Tt()},At=Object(i.E)("div",{target:"e1n7ru1l0"})("text-align:center;"),zt=[yt],It=function(e){var t=e.id,n=e.children,a=e.mobile,i=e.initialValues,c=e.submitLabel,l=e.validate,s=e.onSubmit,d="form_"+t;return Object(o.p)((function(){_t(a)&&function(e){var t=Object(Ce.b)(e)();if(t.length){var n=t[0],r=n.tagName;("INPUT"===r&&!Object(u.B)(n.type,["checkbox","radio"])||"TEXTAREA"===r)&&Object(Se.b)(n)}}(d)})),r.createElement(ke.a,{decorators:zt,initialValues:i,onSubmit:s,subscription:Et,validate:l},(function(e){var t=e.handleSubmit;return r.createElement(Re,{name:d,onSubmit:t},n,r.createElement(St,null),r.createElement(At,null,r.createElement(ke.b,{subscription:jt},(function(e){var t=e.submitting;return r.createElement(gt,{submitting:t,label:c})}))))}))},Mt=Object(i.E)("div",{target:"eptvlbh0"})("display:flex;flex-direction:column;width:100%;margin-bottom:",(function(e){return e.theme.spaceBase+"px"}),";"),Bt=function(e){var t=e.children,n=e.showRequiredMark,a=void 0!==n&&n,i=Object(g.a)(e,["children","showRequiredMark"]);return r.createElement(Ie,Object(s.a)({isRequired:a},i),"string"===typeof t?r.createElement(J.a,{preserveLists:!0,template:t,root:{component:Q.a,props:{component:ee}}}):t)},Ft=function(e){var t=r.useRef(null),n=e.label,a=e.required,i=Ct(t,e),o=i.inputProps,c=(o.type,Object(g.a)(o,["type"])),l=i.labelProps,u=i.errorMessageProps;return r.createElement(Mt,null,n&&r.createElement(Bt,Object(s.a)({showRequiredMark:a},l),n),r.createElement(Xe,Object(s.a)({},c,{errorMessageProps:u,textareaRef:t})))},Nt=Object(i.E)("div",{displayName:"Tooltip",target:"ezqijrk0"})("display:inline-block;background-color:",(function(e){return e.theme.colors.surface.darkVariant}),";color:",(function(e){return e.theme.colors.text.white}),";padding:1em;position:fixed;border-radius:",(function(e){return e.theme.borderRadius.lg}),";z-index:9;font-size:0.8em;font-weight:normal;margin-top:0.5em;",(function(e){var t=e.position;return{left:t.left?t.left-10+"px":"auto",right:t.right?t.right-10+"px":"auto",top:t.top+"px"||!1,marginRight:t.right?0:"10px",marginLeft:t.left?0:"10px"}}),";"),Ht=Object(i.E)("svg",{displayName:"TooltipArrow",target:"ezqijrk1"})("position:absolute;fill:",(function(e){return e.theme.colors.surface.darkVariant}),";margin-top:-1.5em;",(function(e){var t=e.position,n=e.horizontalFactor,r=e.theme;return{left:t.left?n-10+("modern"===r.name?3:-1)+"px":"auto",right:t.right?n-10+("modern"===r.name?3:-1)+"px":"auto",top:"0"}}),";"),Lt=Object(i.E)("div",{target:"ezqijrk2"})("position:relative;"),Dt=function(e){var t=e.getBoundingClientRect(),n=t.left,r=t.right,a=t.bottom,i=window,o=i.innerWidth,c=i.pageXOffset,l=a+i.pageYOffset;return n+c>o/2?{top:l,right:o-(r+c)}:{top:l,left:n+c}},Pt=function(e){return{type:"TRIGGER_HOVER_START",position:Dt(e),targetWidth:e.offsetWidth}},qt={permanentlyDisabled:!1,triggerHovered:!1,tooltipHovered:!1,triggerData:null},Vt=function(e,t){switch(t.type){case"DISABLE_PERMANENTLY":return Object(s.a)({},qt,{permanentlyDisabled:!0});case"TOOLTIP_HOVER_START":return Object(s.a)({},e,{tooltipHovered:!0});case"TOOLTIP_HOVER_END":return Object(s.a)({},e,{tooltipHovered:!1});case"TRIGGER_HOVER_START":return Object(s.a)({},e,{triggerHovered:!0,triggerData:{position:t.position,targetWidth:t.targetWidth}});case"TRIGGER_HOVER_END":return Object(s.a)({},e,{triggerHovered:!1});default:return e}};var Ut=function(e){var t=e.children,n=e.label,a=e.disabled,o=void 0!==a&&a,c=e.allowTouch,l=void 0!==c&&c,u=Object(g.a)(e,["children","label","disabled","allowTouch"]),d=r.useReducer(Vt,qt),m=d[0],p=m.tooltipHovered,f=m.triggerHovered,b=m.triggerData,h=m.permanentlyDisabled,v=d[1];return o&&f&&v({type:"TRIGGER_HOVER_END"}),r.createElement(r.Fragment,null,r.createElement("div",Object(s.a)({className:Object(i.A)("display:flex;align-items:stretch;flex-shrink:0;"),onMouseEnter:function(e){var t=e.currentTarget;o||h||v(Pt(t))},onMouseLeave:function(){return v({type:"TRIGGER_HOVER_END"})},onTouchStart:function(e){var t=e.currentTarget;return v(l?Pt(t):{type:"DISABLE_PERMANENTLY"})}},u),t),(f||p)&&b&&r.createElement(de,{portalId:"tooltip-portal"},r.createElement(Nt,{onMouseEnter:function(){return v({type:"TOOLTIP_HOVER_START"})},onMouseLeave:function(){return v({type:"TOOLTIP_HOVER_END"})},position:b.position},r.createElement(Lt,null,r.createElement(Ht,{horizontalFactor:b.targetWidth/2,height:"10",position:b.position,width:"16"},r.createElement("polygon",{points:"0,10 16,10 8,0"})),n))))},Gt=Object(i.A)("text-align:center;"),Wt=Object(i.A)("font-size:inherit;"),Yt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1,selectedRate:t.props.chatRate},t.handleRate=Object(u.O)((function(e){return function(){var n=t.state.selectedRate===e,r=n?null:e;t.rateChat(r),t.setState({selectedRate:r,open:!n})}})),t.closeModal=function(){t.setState({open:!1})},t.validate=function(e){if(!e.comment)return{comment:t.props.localize("survey_fill_in_required_fields")}},t.handleSubmit=function(e){t.props.rateChat({comment:e.comment}),t.closeModal()},t.getRateButtonProps=function(e){var n=t.props,r=n.chatRate;return{disabled:n.disabled,active:r===e,onClick:t.handleRate(e)}},t}Object(ce.a)(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.chatRate!==this.props.chatRate&&this.setState({selectedRate:this.props.chatRate})},n.rateChat=function(e){var t=this;this.props.rateChat({rate:e}).catch((function(){return t.setState({selectedRate:t.props.chatRate})}))},n.render=function(){var e=this.state,t=e.open,n=e.selectedRate,a=this.props,o=a.disabled,c=a.chatRate,l=a.mobile,u=a.localize,d=u("good"===c?"rate_me_cancel_tooltip":"rate_me_good_tooltip"),m=u("bad"===c?"rate_me_cancel_tooltip":"rate_me_bad_tooltip");return r.createElement(r.Fragment,null,r.createElement(Ut,{disabled:o,label:d},r.createElement(B.h,Object(s.a)({},this.getRateButtonProps("good"),{"aria-label":d}),r.createElement(B.t,{className:Wt,"aria-hidden":!0}))),r.createElement(Ut,{disabled:o,label:m},r.createElement(B.h,Object(s.a)({},this.getRateButtonProps("bad"),{"aria-label":m}),r.createElement(B.s,{className:Wt,"aria-hidden":!0}))),r.createElement(we,{shown:t,onClose:this.closeModal,"aria-labelledby":"add_rate_comment_label"},r.createElement(G,null,"good"===n?r.createElement(B.t,{label:u("rate_me_confirmation_good")}):r.createElement(B.s,{label:u("rate_me_confirmation_bad")})),r.createElement("p",{id:"add_rate_comment_label",className:Gt},u("rate_me_add_comment")),r.createElement(It,{id:"rate_comment",mobile:l,onSubmit:this.handleSubmit,submitLabel:u("button_add_feedback"),validate:this.validate},r.createElement(i.r,null,r.createElement(Ft,{name:"comment",required:!0,mobile:l,ariaLabel:"Enter a rating comment"})))))},t}(r.Component),Zt=Object(a.c)((function(e,t){var n=t.chatId,r=function(t){var r=t.rate,a=t.comment,i={};return void 0!==r&&(i.rate=r),void 0!==a&&(i.rateComment=a),e.requestUpdateChat(n,{properties:i})};return function(e){var t=e.getChat(n),a=t.active,i=t.properties,o=i.ended;return{chatRate:i.rate,disabled:!o&&!a,iconTheme:e.getApplicationState("config").theme.iconTheme,mobile:e.getApplicationState("mobile"),rateChat:r,localize:e.localize}}}))(Yt),Qt=Object(i.A)("margin-right:0;"),Jt=Object(i.E)("div",{target:"ekqutxs0"})("display:flex;align-items:center;position:relative;margin-right:0.5em;"),Kt=Object(i.E)("div",{target:"ekqutxs1"})("position:absolute;",(function(e){var t=e.availability,n=e.size,r=e.theme;return{width:"small"===n?r.spaces.space4:r.spaces.space5,height:"small"===n?r.spaces.space4:r.spaces.space5,background:"online"===t?r.colors.success:r.colors.grayscale[500],border:"2px solid "+r.colors.surface.light,borderRadius:r.borderRadius.round,top:"-2px",right:"-2px"}})),Xt=function(e){var t=e.avatarUrl,n=e.availability,a=e.size,o=void 0===a?"normal":a;return r.createElement(Jt,null,r.createElement(i.b,{className:Qt,imgUrl:t,size:"small"===o?"24px":void 0}),n&&r.createElement(Kt,{availability:n,size:o}))},$t=Object(i.A)("justify-content:center;"),en=Object(i.E)("div",{target:"e10kp68a0"})("width:100%;display:flex;"),tn=Object(i.A)($t," flex:1;"),nn=Object(i.A)($t," min-width:auto;"),rn=Object(i.E)("img",{target:"e10kp68a1"})("height:auto;max-height:50px;"),an=Object(u.O)((function(e){return function(t){return t.position===e}})),on=function(e){var t=e.agent,n=e.chatId,a=e.showAvatar,o=e.logoPath;return r.createElement(en,null,a&&t.avatar&&r.createElement(Xt,{avatarUrl:t.avatar,availability:"online"}),r.createElement(i.r,{flexFill:!0},r.createElement(i.f,{className:tn,flexFill:!0},r.createElement(i.x,{ellipsis:!0},t.name),t.properties.jobTitle&&r.createElement(i.t,{ellipsis:!0},t.properties.jobTitle),r.createElement(oe,{condition:an("bottom"),name:"rating"},r.createElement(i.r,null,r.createElement(Zt,{chatId:n})))),r.createElement(oe,{condition:an("right"),name:"rating"},r.createElement(i.f,{className:$t,noShrink:!0},r.createElement(i.r,null,r.createElement(Zt,{chatId:n})))),!!o&&r.createElement(i.f,{className:nn},r.createElement(rn,{alt:"",src:o}))))},cn=Object(i.E)(i.a,{target:"eraual0"})("position:relative;box-shadow:",(function(e){return e.theme.boxShadow.sm}),";"),ln=Object(i.E)("div",{displayName:"TopBar",target:"eraual1"})("position:relative;z-index:1;height:auto;bottom:0;@media (max-height:330px){display:none;}"),sn={enter:150,exit:150},un=Object(i.A)("&-enter,&-appear{transform:translateY(-100%);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{transform:translateY(0);transition:transform ",150,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}&-exit{transform:translateY(0);}&-exit-active{transform:translateY(-100%);transition:transform ",150,"ms ","cubic-bezier(0.14, 0, 0, 1)",";}"),dn=Object(i.A)("transition:opacity 100ms ease-in-out;position:relative;"),mn=Object(a.c)((function(e,t){var n=t.chatId;return function(e){var t,r=e.getView("Chat/queue"),a=Object(l.ab)(e),i=Object(l.db)(e),o=Object(l.eb)(e),c=Object(l.g)("logo",e),s=c.enabled&&"modern"===Object(l.u)(e);return{agent:Object(l.c)(n,e),chatActive:e.getChat(n).active,showAvatar:Object(l.g)("agentAvatar",e).enabled,logoPath:s?(t=c.path,"https://"+Object(D.k)(t)):null,showAgentBar:a,showOfflineInformation:i,showQueueInformation:o,offlineInformation:e.localize(e.getApplicationState("usersLimitReached")||!Object(l.D)(e)?"agents_not_available":"agents_not_available_continuous"),hasNoVisibleEvents:Object(l.z)(e),queueTemplate:Object(l.o)(e),numberInQueue:r&&r.numberInQueue,waitingTime:r&&r.waitingTime,showTopBar:Object(l.T)(e)}}}))(Object(L.b)((function(e){var t=e.agent,n=e.chatId,a=e.showAvatar,c=e.logoPath,l=e.showAgentBar,s=e.scrollingDeltaSource,m=e.isOnBottomSource,p=e.showOfflineInformation,f=e.offlineInformation,b=e.hasNoVisibleEvents,h=e.showQueueInformation,g=e.queueTemplate,E=e.numberInQueue,O=e.waitingTime,j=e.showTopBar,x=r.useRef(),y=r.useRef(),w=r.useRef(0),k=r.useState(!0),C=k[0],S=k[1],R=r.useCallback((function(){S(!0),x.current&&(x.current.style.bottom=0,x.current.style.height="auto"),y.current&&(y.current.style.opacity=1)}),[x]);return Object(o.b)(s,(function(e){var t=e.y;j&&("auto"===x.current.style.height&&(w.current=x.current.offsetHeight),1===t&&S(!1),!C&&t<1&&S(!0),x.current&&(x.current.style.bottom=t*w.current+"px",x.current.style.height=w.current-t*w.current+"px"),y.current&&(y.current.style.opacity=1-2*t))})),r.useEffect((function(){R()}),[j,R]),r.useEffect((function(){if(m)return m.subscribe((function(e){e&&R()}))}),[m,R]),r.useEffect((function(){x.current&&Object(u.pb)(x.current.querySelectorAll("button")).forEach((function(e){e.tabIndex=C?0:-1}))}),[C]),r.createElement(ln,{id:"top-bar",innerRef:x},r.createElement(d.a,{appear:!0,component:null,exit:C},j&&r.createElement(v.a,{timeout:sn,classNames:un},r.createElement("div",null,r.createElement(P,null),r.createElement(cn,{noShrink:!0},r.createElement(i.r,{flexFill:!0,innerRef:y,className:dn},h&&r.createElement(ae,{template:g,numberInQueue:E,waitingTime:O,compact:!b}),p&&r.createElement(re,{compact:!b,text:f}),l&&r.createElement(on,{agent:t,chatId:n,showAvatar:a,logoPath:c})))))))}))),pn=n(374),fn=n(203),bn=function(e){var t=e.children;return r.createElement(i.j,{date:"",showMetaOnClick:!1,system:!0},r.createElement(i.c,null,r.createElement(fn.a,{text:t})))},hn=n(206),gn=Object(i.E)(hn.a,{displayName:"SystemCard",target:"e1r9cm3y0"})("padding:8px;margin:2px 0;width:100%;max-width:270px;position:relative;"),vn=Object(i.E)("div",{target:"e1q4zsg90"})("display:flex;flex-direction:row;position:absolute;top:-21px;left:0;right:0;color:",(function(e){return e.theme.colors.text.white}),";"),En=Object(i.E)("div",{target:"e1q4zsg91"})("display:flex;justify-content:center;align-items:center;overflow:hidden;margin:0 auto;border-radius:",(function(e){return e.theme.borderRadius.round}),";width:",42,"px;height:",42,"px;background-color:",(function(e){var t=e.theme;return e.backgroundColor||t.colors.cta}),";"),On=function(e){var t=e.children,n=e.backgroundColor;return r.createElement(vn,{"aria-hidden":!0},r.createElement(En,{backgroundColor:n},t))},jn=function(e){return Object(i.A)("margin-left:4px;margin-top:3px;fill:currentColor;transform:","scaleY("+("up"===e?-1:1)+")",";")},xn=function(e){var t=e.direction,n=void 0===t?"down":t,a=Object(g.a)(e,["direction"]);return r.createElement("svg",Object(s.a)({viewBox:"0 0 7 4",width:"7px",height:"4px",className:jn(n)},a),r.createElement("path",{d:"M1.1,0.2C0.9,0,0.5,0,0.4,0.2s-0.2,0.5,0,0.7l2.8,2.8c0.2,0.2,0.5,0.2,0.7,0l2.8-2.8c0.2-0.2,0.2-0.5,0-0.7S6.2,0,6,0.2 L3.5,2.7L1.1,0.2z"}))},yn=n(24),wn=n(23),kn=Object(i.E)("button",{target:"eentevd0"})("display:flex;flex-direction:row;align-items:center;justify-content:center;width:100%;background:none;border:none;margin-top:8px;font-size:12px;text-align:center;cursor:pointer;color:",(function(e){var t=e.theme;return Object(wn.e)(t.colors.cta)?Object(yn.e)(.6,t.colors.cta):t.colors.cta}),";"),Cn=Object(i.E)("div",{target:"e1g195pu0"})("position:absolute;top:50%;bottom:0;left:0;right:0;pointer-events:none;background:linear-gradient(rgba(255,255,255,0),rgba(255,255,255,0.9));"),Sn=Object(i.E)("div",{target:"e9s6ynt0"})("position:relative;overflow:hidden;height:auto;transition:max-height 300ms ",(function(e){return e.theme.transitions.easings.swift}),";"),Rn=Object(i.E)("div",{target:"e1cdxu9o0"})("height:auto;padding:8px;"),Tn=Object(a.c)((function(e,t){var n=t.icon,r=e.getApplicationState("config").theme;return{showIcon:!!n&&"modern"!==r.name,rtl:e.getApplicationState("rtl"),localize:e.localize}}))((function(e){var t,n,a=e.icon,c=e.showIcon,l=e.children,d=e.collapsible,m=void 0!==d&&d,p=e.defaultCollapsed,b=void 0!==p&&p,h=e.collapsedHeight,g=void 0===h?100:h,v=e.collapseThreshold,E=void 0===v?20:v,O=e.rtl,j=e.localize,x=e.dataTestId,y=(void 0===x&&f.a,r.useRef(0)),w=r.useRef(!1),k=r.useRef(null),C=r.useRef(null),S=Object(o.i)(),R=Object(o.i)(),T=r.useState(!1),_=T[0],A=T[1],z=r.useState(m),I=z[0],M=z[1],B=Object(o.e)(u.u),F=Object(o.e)((function(){return m&&b?(e=g+"px",Object(i.A)("max-height:",e,";")):null;var e})),N=r.useCallback((function(e){C.current.style.maxHeight="number"===typeof e?e+"px":e}),[]),H=r.useCallback((function(){A(!_)}),[_]),L=r.useCallback((function(){_||N("none")}),[_,N]);return r.useEffect((function(){return function(){return cancelAnimationFrame(y.current)}}),[]),r.useEffect((function(){var e=k.current.offsetHeight,t=e>g&&e-g>E;M(t&&m),!w.current&&m&&A(t&&b),w.current=m}),[m,b,g,E]),r.useEffect((function(){I?(N(k.current.offsetHeight),_&&(cancelAnimationFrame(y.current),y.current=requestAnimationFrame((function(){return N(g)})))):N("none")}),[I,_,g,N]),r.createElement("div",{className:Object(i.B)(c&&(n="21px",Object(i.A)("padding-top:",n,";"))),role:"row"},r.createElement(gn,Object(s.a)({rtl:O,role:"gridcell"},S),c?a:null,r.createElement(Sn,{id:B,"aria-hidden":_,innerRef:C,onTransitionEnd:L,className:Object(i.B)(c&&(t="12px",Object(i.A)("margin-top:",t,";")),F)},r.createElement(Rn,{innerRef:k},l),_&&r.createElement(Cn,null)),I&&r.createElement(kn,Object(s.a)({onClick:H,"aria-controls":B,"aria-expanded":!_},R),r.createElement("span",null,j(_?"show_more":"show_less")),r.createElement(xn,{direction:_?"down":"up","aria-hidden":!0}))))})),_n=Object(i.E)("div",{target:"e1fikopb0"})("padding-bottom:12px;",(function(e){return e.theme.typography.basic})),An=Object(i.E)(Ve.l,{target:"e1fikopb1"})("margin:0;padding:0;display:flex;width:40px;cursor:pointer;border:1px solid;align-items:center;justify-content:center;"),zn=Object(i.E)(An,{target:"e1fikopb2"})("border-radius:",(function(e){return e.theme.borderRadius.none}),";",(function(e){var t,n=e.rtl?"Left":"Right";return Object(i.A)(((t={})["borderTop"+n+"Radius"]=6,t["borderBottom"+n+"Radius"]=6,t))})," color:",(function(e){var t=e.theme;return e.disabled?t.colors.text.white:t.colors.ctaText}),";border:1px solid ",(function(e){var t=e.theme;return e.disabled?t.colors.text.muted:t.colors.cta}),";background-color:",(function(e){var t=e.theme;return e.disabled?t.colors.text.muted:t.colors.cta}),";"),In=Object(i.E)(An,{target:"e1fikopb3"})("color:",(function(e){return e.theme.colors.text.black}),";border:none;background-color:transparent;"),Mn=Object(i.E)("span",{target:"e1fikopb4"})("width:100%;align-items:center;padding:8px;margin:1px;",(function(e){return e.theme.typography.input})," ",(function(e){var t=e.active,n=e.theme;return t&&Object(i.A)("color:",n.colors.cta,";")})),Bn=Object(i.E)("form",{target:"e1fikopb5"})("display:flex;position:relative;flex-direction:row;"),Fn=Object(i.E)("div",{target:"e1fikopb6"})("display:flex;justify-content:center;align-items:center;height:100%;position:absolute;padding:0 6px;color:",(function(e){return e.theme.colors.text.black}),";",(function(e){var t;return(t={})[e.rtl?"right":"left"]=0,t})),Nn=function(e){var t,n=e?"Left":"Right",r=e?"Right":"Left";return Object(i.A)(((t={margin:0,minWidth:0})["padding"+r]=34,t["border"+n]="none",t["borderTop"+n+"Radius"]=0,t["borderBottom"+n+"Radius"]=0,t))},Hn=Object(a.c)((function(e,t){var n=t.id,r=t.chatId,a=function(t){return Object(b.M)(e,{email:t}),new Promise((function(t){return e.once("customer_updated",t)}))};return function(e){var t=e.getSessionUser().email,i=e.getApplicationState().rtl,o=e.getEvent(r,n).thread,c=e.getChat(r).properties;return{rtl:i,email:t,updateSessionUserEmail:a,firstTimeMessage:e.localize("email_prompt_first_time"),confirmationMessage:e.localize("email_prompt_confirmation"),active:o===c.lastThread}}}))((function(e){var t=e.rtl,n=e.email,a=e.active,i=e.firstTimeMessage,c=e.confirmationMessage,l=e.updateSessionUserEmail,s=r.useRef(null),u=r.useState(!n),d=u[0],m=u[1],p=r.useState(n||""),f=p[0],b=p[1],h=r.useCallback((function(e){var t=e.target;b(t.value)}),[]),g=r.useCallback((function(e){e.preventDefault(),l(f).then((function(){return m(!1)}))}),[f,l]),v=r.useCallback((function(){m(!0),b(n||"")}),[n]),E=r.useCallback((function(){n&&m(!1)}),[n]);Object(o.n)(s,E);var O=!n||a&&d,j=!f||f===n;return r.createElement(Tn,null,r.createElement(_n,null,n?c:i),r.createElement(Bn,{innerRef:s,onSubmit:g},O?r.createElement(r.Fragment,null,r.createElement(Qe,{type:"email",placeholder:"Email","aria-label":"Enter your email address",value:f,className:Nn(t),onChange:h}),r.createElement(Fn,{rtl:t},r.createElement(Ve.p,{"aria-hidden":!0})),r.createElement(zn,{rtl:t,type:"submit",role:"button",disabled:j,"aria-label":"Submit an email"},r.createElement(Ve.a,{"aria-hidden":!0}))):r.createElement(r.Fragment,null,r.createElement(Mn,{ellipsis:!0,active:a},n),a&&r.createElement(In,{role:"button",onClick:v,"aria-label":"Edit an email"},r.createElement(Ve.h,{"aria-hidden":!0})))))})),Ln=Object(i.E)("div",{target:"efus62t0"})("margin-bottom:8px;a{color:inherit;}"),Dn=Object(i.E)("div",{target:"efus62t1"})("width:100%;margin-bottom:2px;font-size:14px;color:",(function(e){return e.theme.colors.text.muted}),";"),Pn=Object(i.E)("div",{target:"efus62t2"})("width:100%;font-size:14px;color:",(function(e){return e.theme.colors.text.black}),";"),qn=function(e){var t=e.fields;return r.createElement("div",null,t.map((function(e,t){var n=e.label,a=e.answer;return r.createElement(Ln,{key:t},r.createElement(Dn,{textWrap:!0},r.createElement(J.a,{preserveLists:!0,template:n,root:{component:Q.a,props:{component:ee}}})),r.createElement(Pn,{textWrap:!0},"string"===typeof a?a:a.join(", ")))})))},Vn=function(e){function t(){return e.apply(this,arguments)||this}Object(ce.a)(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props,t=e.form,n=e.name,r=t.getFieldState(n);r&&r.value&&t.change(n,void 0)},n.render=function(){return this.props.children},t}(r.Component);var Un=function(e){var t=e.when,n=e.children;return t?r.createElement(ke.b,{subscription:xt},(function(n){var a=n.form;return n.values[t]?r.createElement(Vn,Object(s.a)({},e,{form:a})):null})):r.createElement(r.Fragment,null,n)},Gn=Object(i.E)("p",{target:"ecj3oet0"})("margin:0;a{color:inherit;}",(function(e){return e.theme.typography.basic})),Wn=function(e){var t=e.children;return r.createElement(Gn,null,"string"===typeof t?r.createElement(J.a,{template:t,root:{component:Q.a,props:{component:ee}}}):t)},Yn=n(377),Zn=n(410),Qn=n(376),Jn=n(400),Kn=function(e){var t=e.children,n=e.showRequiredMark,a=void 0!==n&&n,i=Object(g.a)(e,["children","showRequiredMark"]);return r.createElement(Be,Object(s.a)({isRequired:a},i),"string"===typeof t?r.createElement(J.a,{preserveLists:!0,template:t,root:{component:Q.a,props:{component:ee}}}):t)},Xn=Object(i.E)(i.r,{target:"egdebj40"})((function(e){var t=e.theme,n=t.spaceBase,r=t.typography;return Object(s.a)({},r.basic,{margin:.5*n+"px 0"})})),$n=Object(i.E)(Ie,{target:"egdebj41"})((function(e){return{paddingLeft:e.theme.spaceBase+"px"}})),er=Object(i.A)("flex-shrink:0;"),tr=function(e){var t=e.inputId,n=e.label,a=e.children;return r.createElement(Xn,null,r.createElement("div",{className:er},a),r.createElement($n,{htmlFor:t},n))},nr=Object(i.A)("border:none;margin:0;padding:0;max-height:100%;"),rr=function(e){var t=e.checkboxGroupState,n=e.label,a=e.inputId,i=Object(g.a)(e,["checkboxGroupState","label","inputId"]),o=r.useRef(null),c=Object(Jn.a)(),l=Object(Zn.a)(Object(s.a)({},i,{id:a,children:[]}),c,o).inputProps;return r.createElement(tr,{inputId:a,label:n},r.createElement(ct,Object(s.a)({ref:o},Object(Se.c)(l,{onChange:function(e){t.setSelectedValue(e.target.value,e.target.checked)}}))))},ar=[],ir=function(e){var t=e.options,n=e.label,a=e.name,i=e.required,o=Object(ke.c)(a,{defaultValue:ar}),c=function(e){var t=e.value,n=e.onChange;return{setSelectedValue:function(e,r){var a=r?t.concat(e):t.filter((function(t){return t!==e}));n(a)}}}(o.input),l=kt(o).errorMessageProps,u=Object(Qn.c)({onBlurWithin:o.input.onBlur,onFocusWithin:o.input.onFocus}).focusWithinProps;return r.createElement(Mt,null,r.createElement("fieldset",Object(s.a)({className:nr},u),r.createElement(Kn,{showRequiredMark:i},n),t.map((function(e,t){return r.createElement(rr,{key:t,inputId:a+"_"+t,label:e.label,value:e.value,checkboxGroupState:c})})),r.createElement(Ae,l)))},or=function(e){var t=r.useRef(null),n=e.label,a=e.required,i=Ct(t,Object(s.a)({},e,{autoComplete:"name"===e.name?e.name:"off"})),o=i.inputProps,c=i.labelProps,l=i.errorMessageProps;return r.createElement(Mt,null,r.createElement(Bt,Object(s.a)({showRequiredMark:a},c),n),r.createElement(Je,Object(s.a)({},o,{errorMessageProps:l,inputRef:t})))},cr=function(e){var t=r.useRef(null),n=e.label,a=e.required,i=Ct(t,Object(s.a)({},e,{type:"email",autoComplete:"email"})),o=i.inputProps,c=i.labelProps,l=i.errorMessageProps;return r.createElement(Mt,null,n&&r.createElement(Bt,Object(s.a)({showRequiredMark:a},c),n),r.createElement(Je,Object(s.a)({},o,{inputRef:t,errorMessageProps:l})))},lr=n(390),sr=n(388),ur=Object(i.A)("border:none;margin:0;padding:0;max-height:100%;"),dr=function(e){var t=e.radioGroupState,n=e.label,a=e.inputId,i=Object(g.a)(e,["radioGroupState","label","inputId"]),o=Object(lr.a)(Object(s.a)({},i,{id:a,children:[]}),t,null).inputProps;return r.createElement(tr,{inputId:a,label:n},r.createElement(bt,o))},mr=function(e){var t=e.options,n=e.label,a=e.name,i=e.required,o=Object(ke.c)(a),c=Object(sr.a)(o.input),l=kt(o),u=l.validationState,d=l.errorMessageProps,m=Object(lr.b)({name:a,label:n,isRequired:i,validationState:u},c),p=m.radioGroupProps,f=m.labelProps;return r.createElement(Mt,null,r.createElement("fieldset",Object(s.a)({className:ur},Object(Se.c)(p,{onBlur:o.input.onBlur,onFocus:o.input.onFocus})),r.createElement(Kn,Object(s.a)({showRequiredMark:i},f),n),t.map((function(e,t){return r.createElement(dr,{key:t,inputId:a+"_"+t,label:e.label,value:e.value,radioGroupState:c})})),r.createElement(Ae,d)))},pr=Object(i.E)("option",{target:"e1t56ivc0"})("color:",(function(e){return e.primary?e.theme.colors.success:"inherit"}),";"),fr=function(e){var t=e.meta,n=e.name,a=e.label,i=e.value,o=e.localize,c=void 0!==t&&void 0!==t.online,l=Boolean(t&&t.online),s=" ("+o(l?"skill_status_online":"skill_status_offline")+")";return r.createElement(pr,{name:n,primary:c&&l,value:i},""+a+(c?s:""))},br=function(e){var t=e.options,n=e.label,a=e.name,i=e.localize,o=e.required,c=Object(ke.c)(a);return r.createElement(Mt,null,r.createElement(Bt,{showRequiredMark:o,htmlFor:a},n),r.createElement(Ze,Object(s.a)({},c,{id:a,name:a}),r.createElement("option",{value:""},i("forms_choose")),t.map((function(e,t){return r.createElement(fr,{key:t,meta:e.meta,label:e.label,localize:i,name:a,value:e.value})}))))},hr=Object(i.E)("fieldset",{target:"eptcq7c0"})("border:none;margin:0;padding:0;max-height:100%;"),gr=function(e){var t=e.label,n=e.name,a=e.required,i=void 0!==a&&a,o=Object(ke.c)(n),c=Object(sr.a)(o.input),l=Object(lr.b)({name:n,label:t,isRequired:i},c),u=l.radioGroupProps,d=l.labelProps;return r.createElement(Mt,null,r.createElement(hr,Object(Se.c)(u,{onBlur:o.input.onBlur,onFocus:o.input.onFocus}),r.createElement(Kn,Object(s.a)({showRequiredMark:i},d),t),r.createElement(qe,Object(s.a)({},o,{required:i}))))},vr=Object(i.E)("div",{target:"e12liu9t0"})("margin:0;a{color:inherit;}ul,ol{margin:8px 0;display:inline-block;white-space:normal;width:100%;padding-left:24px;}li{margin:4px 0;}",(function(e){return e.theme.typography.basic})),Er=Object(i.E)("h2",{target:"e12liu9t1"})("font-size:14px;font-weight:normal;margin:0;"),Or={information:function(e){var t=e.value;return r.createElement(Mt,null,r.createElement(vr,{preserveLines:!0,textWrap:!0},r.createElement(J.a,{template:t,root:{component:Er,props:{component:ee}}})))},text:or,textarea:Ft,email:cr,rating:gr,radio:mr,checkbox:ir,select:br};var jr=function(e){var t=e.type;return Or[t]},xr=n(19),yr=function(e,t){switch(t){case"prechat":return e("prechat_submit_label");case"offline":return e("offline_form_submit_label");default:return e("submit")}},wr=Object(a.c)((function(e,t){var n=t.chatId,r=t.eventId,a=t.type,i=function(t){if("prechat"===a){var i=t.name,o=t.email,c=Object(u.e)({name:i,email:o});Object(u.D)(c)||e.updateUser(e.getSessionUserId(),c)}return e.requestUpdateEvent(n,r,{properties:{answers:t}})};return function(e){return{localize:e.localize,mobile:e.getApplicationState("mobile"),sendForm:i,sessionUser:e.getSessionUser()}}}))((function(e){var t=e.id,n=e.type,a=e.fields,c=e.mobile,l=e.localize,d=e.sendForm,m=e.sessionUser,p=Object(o.k)(t+":"+n),f=Object(o.e)((function(){var e=p.get(),t=function(e,t){var n=Object(u.M)((function(e){return"string"===typeof e?Object(u.tb)(e):e}),Object(u.Z)(["email","name"],e)),r=n.name,a=n.email;return r===t("client")?{email:a}:{email:a,name:r}}(m,l);return function(e,t,n){return e.map((function(e){var r=n?n[e.name]:null,a=t?t[e.name]:null,i=r||a;return i?Object(s.a)({},e,{defaultValue:i}):e})).filter((function(e){return"defaultValue"in e})).reduce((function(e,t){var n=t.name,r=t.defaultValue;return e[n]=r,e}),{})}(a,t,e)})),b=r.useRef({counter:0,lastValues:null,lastResult:null}),h=r.useCallback((function(e){b.current.counter++,b.current.lastValues=Object(s.a)({},e);var t=a.reduce((function(t,n){var r,a,i,o=n.required,c=n.name;return o&&(a=e[c],!(Object(u.C)(a)?!Object(u.D)(a):Boolean(a)))?Object(s.a)({},t,((r={})[c]=l("survey_fill_in_required_fields"),r)):"maxLength"in n&&"number"===typeof n.maxLength&&e[c]&&e[c].length>n.maxLength?Object(s.a)({},t,((i={})[c]="Cannot be longer than "+n.maxLength+" characters long.",i)):t}),{});return b.current.lastResult=Object(s.a)({},t),t}),[a,l]);return r.createElement(It,{id:t,mobile:c,initialValues:f,validate:h,onSubmit:function(e){var t=b.current,n=t.counter,r=t.lastValues,a=t.lastResult,i=h(e);return 0!==Object.keys(i).length&&Object(xr.c)("invalid_form_submit_4",null,Object(u.M)((function(e){return JSON.stringify(e)}),{validationErrors:i,validationCounter:n,lastValidationValues:r,lastValidationResult:a,values:e})),d(e).then((function(){p.destroy()}),(function(e){var t;return e||((t={})[Yn.a]="Please check your internet connection and then try again.",t)}))},submitLabel:yr(l,n)},a.map((function(e,t){var n=jr(e);return r.createElement(i.r,{key:t},r.createElement(Un,{name:e.name,when:e.dependOn},r.createElement(n,Object(s.a)({},e,{localize:l}))))})),r.createElement(ke.b,{onChange:function(e){var t=e.values;e.dirty&&p.set(t)},subscription:{values:!0,dirty:!0}}))})),kr=function(e){var t=e.theme;return r.createElement(On,{backgroundColor:t.colors.cta},r.createElement(B.p,{color:t.colors.ctaText}))},Cr=function(e){var t=e.theme;return r.createElement(On,{backgroundColor:t.colors.cta},r.createElement(B.r,{color:t.colors.ctaText}))},Sr=function(e){var t=e.answered,n=e.theme;return r.createElement(On,{backgroundColor:t?n.colors.success:n.colors.cta},t?r.createElement(B.u,{color:n.colors.text.black}):r.createElement(B.k,{color:n.colors.ctaText}))},Rr=function(e){var t=e.localize;return r.createElement(Wn,null,t("offline_message_sent"))},Tr=Object(L.b)((function(e){var t=e.theme,n=e.chatId,i=e.id,c=e.setScrollTargetNode,u=e.form,d=Object(g.a)(e,["theme","chatId","id","setScrollTargetNode","form"]),m=u.properties,p=m.formId,f=m.formType,b=m.fields,h=m.answered,v=b.filter((function(e){return e.answer&&e.label})),E=l.H(u),O=r.useRef(null);if(Object(o.p)((function(){!h&&O.current&&c&&c(O.current)})),E)return null;var j=function(e){switch(e){case"prechat":return kr;case"postchat":return Cr;case"offline":return Sr}}(f),x=function(e){switch(e){case"prechat":case"postchat":return qn;case"offline":return Rr}}(f);return r.createElement("div",Object(s.a)({ref:O},d),r.createElement(a.a,null,(function(e){return r.createElement(Tn,{defaultCollapsed:!0,collapsible:h,icon:r.createElement(j,{theme:t,answered:h})},h?r.createElement(x,{fields:v,localize:e}):r.createElement(wr,{key:f,chatId:n,eventId:i,id:p,type:f,fields:b}))})))})),_r={enter:600,exit:400},Ar=function(e,t){return Object(i.A)("&-enter,&-appear{transform:translateY(100%);}&-enter-active,&-appear-active,&-enter-done,&-appear-done{transform:translateY(0);transition:transform ",600*e,"ms ",t.transitions.easings.swift,";}&-exit{transform:translateY(0);}&-exit-active{transform:translateY(100%);transition:transform ",400*e,"ms ",t.transitions.easings.swift,";}")},zr=Object(L.b)((function(e){var t=e.show,n=e.durationFactor,a=e.onTransitionStart,i=e.onTransitionEnd,o=e.children,c=e.nodeRef,l=e.theme;return r.createElement(d.a,{appear:!0,component:null},t&&r.createElement(v.a,{timeout:_r,onExited:i,onEntered:i,onExiting:a,onEntering:a,classNames:Ar(n,l),nodeRef:c},o))})),Ir=function(e){var t=e.heightPercentage,n=e.theme;return Object(i.A)("position:absolute;z-index:1500;display:flex;flex-direction:column;height:",100*t,"%;min-height:270px;max-height:100%;width:100%;bottom:0;border-radius:inherit;color:",n.colors.text.black,";background-color:",n.colors.surface.light,";")},Mr=Object(L.b)((function(e){var t=e.heightPercentage,n=e.theme,a=e.children,i=e.innerRef,c=Object(g.a)(e,["heightPercentage","theme","children","innerRef"]),l=r.useRef(null),u=Object(o.d)(l,i);return Object(o.g)("touchmove",l),Object(o.c)(l),r.createElement(le.a,{autoFocus:!1,returnFocus:!0,crossFrame:!1,className:Ir({heightPercentage:t,theme:n}),ref:u,lockProps:Object(s.a)({role:"dialog","aria-modal":!0},c)},a)})),Br=n(26),Fr=n(243),Nr={allowtransparency:"true",scrolling:"yes",style:{position:"absolute",minWidth:"100%",minHeight:"100%",height:"1px",width:"1px",margin:"0",padding:"0",background:"none",border:"0"}},Hr=function(e){if(e){var t=e.scrollTop,n=e.scrollHeight-e.offsetHeight;0===t?e.scrollTop=1:t===n&&(e.scrollTop=n-1)}},Lr=function(e){return{moment_url:Object(D.d)(e)+Object(D.e)(e),moment_origin:Object(D.d)(e)||""}},Dr=function(e){var t=e.hidden;return Object(i.A)("flex-grow:1;position:relative;overflow:auto;-webkit-overflow-scrolling:touch;display:",t?"none":"block",";")},Pr=function(e,t,n){var r=document.createElement("iframe");return n&&(r.allow="microphone *; camera *;"),r.src=t,e.appendChild(r),r},qr=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(t=e.call.apply(e,[this].concat(a))||this).sdk=void 0,t.containerRef=r.createRef(),t.handleIFrameLoad=function(){t.sdk&&(t.props.onLoadingChanged(!1),t.sdk.frame.removeEventListener("load",t.handleIFrameLoad))},t.handleScroll=function(e){Hr(e.currentTarget)},t}Object(ce.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.url,n=e.close,r=e.sendMessage,a=e.sendSystemMessage,i=e.setAttributes,o=e.onLoadingChanged,c=e.onMomentDataChanged,l=e.allowVideoConferencing;if(t&&this.containerRef.current){var s={close:n,sendMessage:r,setAttributes:i,setExternalLink:function(e){c({externalLink:e})}};a&&(s.sendSystemMessage=a),this.sdk=Object(Fr.b)({frame:Pr(this.containerRef.current,t,l),url:t,onConnected:function(e){var t=e.data;o(!1),c(t)}},s),Object(Br.a)(Nr,this.sdk.frame),o(!0),this.sdk.frame.addEventListener("load",this.handleIFrameLoad),c({title:this.sdk.title}),Object(xr.d)("moment_opened",Lr(Object(Fr.a)(t)))}},n.componentWillUnmount=function(){var e=this.props,t=e.onMomentDataChanged,n=e.onLoadingChanged;this.sdk&&(this.sdk.destroy(),t(null),n(!1));var r=this.props.url;r&&Object(xr.d)("moment_closed",Lr(Object(Fr.a)(r)))},n.render=function(){return r.createElement("div",{ref:this.containerRef,className:Dr(this.props),onScroll:this.handleScroll})},t}(r.Component),Vr=Object(i.E)("h2",{target:"ekjkgns0"})("flex-grow:1;flex-basis:100%;font-weight:700;font-size:14px;margin:0 8px;"),Ur=Object(i.E)(i.r,{target:"e11d7cwf0"})("border-bottom:1px solid ",(function(e){return e.theme.colors.divider}),";padding:0 0.8em;height:48px;display:flex;align-items:center;"),Gr=Object(i.A)("width:100%;height:100%;"),Wr=Object(i.E)("div",{target:"e96px410"})("flex-shrink:0;width:24px;height:24px;border-radius:",(function(e){return e.theme.borderRadius.md}),";overflow:hidden;"),Yr=function(){return r.createElement(Ve.n,null,r.createElement(Ve.u,null))},Zr=function(e){var t=e.src;return t?r.createElement(Wr,null,r.createElement(i.i,{src:t,className:Gr},(function(e){switch(e.imageStatus){case"pending":return r.createElement(Ve.n,null);case"failed":return r.createElement(Yr,null);default:return null}}))):r.createElement(Wr,null,r.createElement(Yr,null))},Qr=Object(i.E)(Ur,{target:"e1xkjcv70"})("border-bottom:0;"),Jr=Object(i.E)("div",{displayName:"BoosterContainer",target:"e1xkjcv71"})("width:100%;display:flex;color:",(function(e){return e.theme.colors.text.black}),";max-width:",(function(e){return e.single?"270px":"240px"}),";"),Kr=Object(i.E)("div",{target:"e1xkjcv72"})("padding:0 0.8em 0.8em 0.8em;"),Xr=Object(i.E)(hn.a,{target:"e1xkjcv73"})("flex-grow:1;max-width:100%;flex-basis:100%;"),$r=Object(i.E)("div",{target:"e1xkjcv74"})(K(),";margin-bottom:1.2em;",(function(e){return e.theme.typography.basic})),ea=Object(i.E)(ht.a,{displayName:"BoosterButton",target:"e1xkjcv75"})((function(e){var t=e.theme;return function(e){var t=e.color,n=e.backgroundColor,r=e.hoverBackgroundColor;return Object(i.A)("color:",t,";background-color:",n,";&:hover{color:",t,";background-color:",r,";}")}({color:Object(yn.e)(.6,t.colors.cta),backgroundColor:Object(yn.f)(.95,t.colors.cta),hoverBackgroundColor:Object(yn.f)(.85,t.colors.cta)})})),ta=function(e){var t=e.id,n=e.icon,a=e.title,i=e.description,o=e.onButtonClick,c=e.action,l=e.single,s=void 0!==l&&l;return r.createElement(Jr,{single:s},r.createElement(Xr,{role:"gridcell"},r.createElement(Qr,null,r.createElement(Zr,{src:n}),r.createElement(Vr,{ellipsis:!0,flexFill:!0},a)),r.createElement(Kr,null,r.createElement($r,null,r.createElement(J.a,{preserveLists:!0,template:i,root:{component:Q.a,props:{component:ee}}})),r.createElement(ea,{ellipsis:!0,onClick:function(){return o(t)}},c.label))))},na=Object(i.E)("div",{target:"e1ndqyd80"})("padding-top:0.8em;width:100%;display:flex;justify-content:center;flex-grow:1;"),ra=Object(a.c)((function(e){var t=function(t){return e.emit("on_chat_booster_launched",t)};return function(){return{emitBoosterLaunched:t}}}))((function(e){var t=e.boosters,n=e.setScrollTargetNode,a=e.showMoment,c=e.emitBoosterLaunched,l=r.useRef(null);Object(o.p)((function(){l.current&&n&&n(l.current)}));var u=function(e){var n=t.find((function(t){return t.id===e}));if(n){var r=n.icon,i=n.title,o=n.action,l=o.url,s=o.webviewHeight,u=void 0===s?"full":s;c({id:e,title:i}),a({icon:r,title:i,height:u,url:l+"?moment-title="+encodeURIComponent(i)})}};return r.createElement(na,{innerRef:l,role:"row"},1===t.length?r.createElement(ta,Object(s.a)({},t[0],{single:!0,onButtonClick:u})):r.createElement(i.e,null,t.map((function(e){return r.createElement(ta,Object(s.a)({},e,{key:e.id,onButtonClick:u}))}))))})),aa=Object(i.E)("div",{target:"e1yucjc70"})("width:100%;display:flex;margin-bottom:16px;flex-direction:row;align-items:center;justify-content:center;"),ia=Object(i.E)("div",{target:"e1yucjc71"})("padding:4px 12px;",(function(e){var t=e.theme;return Object(i.A)(t.typography.basic,";background-color:",Object(yn.f)(.7,t.colors.caution),";border-radius:",t.borderRadius.sm,";")})),oa=function(){return r.createElement(a.a,null,(function(e){return r.createElement(aa,null,r.createElement(ia,null,e("fill_form_to_send")))}))},ca=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={shouldHandleSeen:!t.props.event.own&&!t.props.event.seen},t.handleSeen=function(){t.setState({shouldHandleSeen:!1}),t.props.listItemHandlers.markAsSeen(t.props.id)},t.getCardDisabledButtons=function(){var e=t.props,n=e.isChatActive,r=e.isPartOfLastThread,a=n&&r;return e.event.properties.invitation?n?["cancel"]:[]:a?[]:["message","webview"]},t.handleMessageRef=function(e){var n=t.props,r=n.scrollTarget,a=n.setScrollTargetNode;e&&"draft"===r&&a(e)},t}return Object(ce.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.shouldHandleSeen&&e.event.seen?{shouldHandleSeen:!1}:null},t.prototype.render=function(){var e,t=this.props,n=t.mobile,a=t.author,o=t.event,c=t.chatId,l=t.localize,u=t.radiusType,m=t.showMoment,p=t.scrollTarget,f=t.deliveryStatus,b=t.listItemHandlers,g=t.showMetaOnClick,v=t.setScrollTargetNode,E=t.handleGreetingDisplayed,O=t.showFillFormAnnouncement,j=t.rtl,x="system"===a.type,y=this.state.shouldHandleSeen;if("system_message"===o.type){var w=o.properties,k=w.systemMessageType,C=w.textVariables,S=w.defaultText;return r.createElement(bn,null,k?l(k,C):S)}return"email_prompt"===o.type?r.createElement(Hn,{id:o.id,chatId:c}):"form"===o.type?r.createElement(r.Fragment,null,O&&r.createElement(oa,null),r.createElement(d.a,{appear:O,component:null},r.createElement(h.b,{delay:100},r.createElement(Tr,{id:o.id,chatId:c,form:o,setScrollTargetNode:"form"===p&&v})))):"boosters"===o.type?r.createElement(ra,{boosters:o.properties.boosters,showMoment:m,setScrollTargetNode:"boosters"===p&&v}):r.createElement(i.j,{authorName:o.own&&!a.name?l("client"):a.name,date:x?"":(e=o.timestamp,new Date(e).toTimeString().substr(0,5)),deliveryStatus:f,failed:o.failed,isOwn:o.own,onSeen:this.handleSeen,seen:!y,sending:!o.delivered&&!o.failed,showMetaOnClick:!x&&g,system:x,innerRef:this.handleMessageRef},r.createElement(pn.a,Object(s.a)({event:o,mobile:n,radiusType:u,disabledButtons:this.getCardDisabledButtons(),onActionButtonClick:b.handleActionButtonClick,rtl:j},o.properties.invitation&&{onShow:function(){return E(o)}})))},t}(r.Component),la=Object(a.c)((function(e,t){var n=t.chatId,r=t.id,a=t.showMoment,i=function(t){l.hb(e,t)||b.l(e)};return function(e,t){var n;return function(r){var a=e(r);if(void 0===a)return n;var i=t(r,a);return n=i,i}}((function(e){return e.getEvent(n,r)}),(function(e,t){var o=e.getChat(n),c=o.properties.lastThread===t.thread,s="form"===t.type&&!t.properties.answered&&l.L(e,n);return{event:t,chatId:n,showMoment:a,handleGreetingDisplayed:i,showFillFormAnnouncement:s,localize:e.localize,isChatActive:o.active,author:e.getUser(t.author),mobile:e.getApplicationState("mobile"),isPartOfLastThread:c,deliveryStatus:l.e(e,n,r),rtl:e.getApplicationState("rtl")}}))}))(ca),sa=n(115),ua=Object(i.E)("label",{target:"e1e9gyrb0"})("color:",(function(e){return e.theme.colors.text.black}),";cursor:",(function(e){return e.disabled?"not-allowed":"pointer"}),";display:flex;align-items:center;"),da=Object(i.E)("span",{target:"e1e9gyrb1"})("&:focus{outline-style:",(function(e){return e.focusVisible?"auto":"none"}),";}"),ma=Object(i.E)("input",{target:"e1e9gyrb2"})("display:none;"),pa=Object(L.b)((function(e){var t=e.handleFileChange,n=e.disabled,a=e.theme,c=r.useRef(null),l=Object(o.l)((function(){return c.current.click()})),u=Object(i.F)();return r.createElement(ua,{flexFit:!0,htmlFor:"fileupload",disabled:n},r.createElement(da,Object(s.a)({role:"button","aria-label":"Send a file",tabIndex:"0"},l,u),r.createElement(B.b,{color:a.colors.grayscale[n?300:500],"aria-hidden":!0})),r.createElement(ma,{multiple:!0,onChange:t,type:"file",value:"",id:"fileupload",innerRef:c,disabled:n}))})),fa=function(e,t){return Object(i.A)("font-family:inherit;padding:1.25em 5.5em 1.25em 1em;overflow-y:auto;margin-top:0;transition:box-shadow 0.1s ease-in-out;background-color:",e?Object(yn.f)(.95,t.colors.caution):Object(yn.e)(.012,t.colors.surface.light),";:focus{background-color:",t.colors.surface.light,";}")},ba=Object(i.A)("padding:0;svg *{transition:fill 100ms ease-in-out;}"),ha=Object(i.E)("div",{target:"ex4ls1q0"})("position:absolute;top:0;height:100%;right:1em;display:flex;align-items:center;color:",(function(e){return e.theme.colors.text.black}),";"),ga=Object(i.E)(i.r,{target:"ex4ls1q1"})("position:relative;");var va=Object(a.c)((function(e,t){var n=t.chatId,r=function(t){b.d(e,t)},a=function(t){b.z(e,n,t)},i=function(t){e.requestUpdateChat(n,{properties:{messageDraft:t}})};return function(e){return{sendFile:r,sendMessage:a,setMessageDraft:i,reconnecting:l.fb(e),allowInput:l.X(e),allowFileUpload:l.W(e),isFileUploadPossible:l.F(e),mobile:e.getApplicationState("mobile"),applicationFocused:e.getApplicationState("applicationFocused")}}}))(Object(L.b)((function(e){var t=e.allowFileUpload,n=e.isFileUploadPossible,c=e.mobile,l=e.onHeightChange,d=e.onSendMessage,m=e.allowInput,p=e.reconnecting,f=e.sendFile,b=e.sendMessage,h=e.setMessageDraft,v=(e.applicationFocused,e.onFocusChange),E=e.theme,O=Object(g.a)(e,["allowFileUpload","isFileUploadPossible","mobile","onHeightChange","onSendMessage","allowInput","reconnecting","sendFile","sendMessage","setMessageDraft","applicationFocused","onFocusChange","theme"]),j=r.useMemo((function(){return Object(u.sb)(1500,h)}),[h]),x=Object(o.f)(p),y=Object(o.k)("text-composer"),w=y.get(),k=r.useCallback((function(){v&&v(!0)}),[v]),C=r.useCallback((function(){v&&v(!1)}),[v]),S=r.useCallback((function(e){b(e),d&&d()}),[b,d]),R=r.useCallback((function(e){[].forEach.call(e.target.files,f)}),[f]);return r.createElement(a.a,null,(function(e){return r.createElement(i.u,Object(s.a)({},O,{active:m,disabled:p&&!x,mobile:c,defaultValue:w,onSend:S,onValueChange:function(e){y.set(e),j(e)}}),r.createElement(ga,{verticalAlign:"center"},r.createElement(i.v,{autoFocus:_t(c),className:fa(p&&!x,E),disabled:p&&!x,flexFill:!0,minRows:1,onBlur:C,onFocus:k,onHeightChange:l,placeholder:e("embedded_textarea_placeholder"),"aria-label":e("embedded_textarea_placeholder")}),r.createElement(ha,null,t&&r.createElement(pa,{disabled:!n,handleFileChange:R}),r.createElement(i.s,{flexFit:!0,className:ba,icon:r.createElement(B.q,null),"aria-label":"Send a message"}))))}))}))),Ea=n(201),Oa={full:.8,tall:.5,compact:.3},ja=Object(i.A)("display:flex;"),xa=Object(a.c)((function(e,t){var n,r=t.chatId,a=function(){return b.e(e)},i=function(t){return b.M(e,{properties:t})},o=function(t){return b.z(e,r,t)},c=!!e.getApplicationState("config").hasAnyCustomLicenseProperty;return"lc3"===e.getApplicationState().protocol&&(n=function(t){return b.y(e,r,t)}),function(e){var t=e.getView("Moment"),r=t.show,l=t.data;return{show:r,closeMoment:a,sendMessage:o,sendSystemMessage:n,updateSessionUser:i,momentData:l,allowVideoConferencing:c}}}))((function(e){var t=e.allowVideoConferencing,n=e.show,a=e.closeMoment,i=e.updateSessionUser,c=e.sendMessage,l=e.sendSystemMessage,d=e.onSendMessage,m=r.useRef(null),p=r.useRef(null),f=r.useState(!1),b=f[0],h=f[1],g=r.useState(!1),v=g[0],E=g[1],O=r.useState(!1),j=O[0],x=O[1],y=r.useState({}),w=y[0],k=y[1],C=Object(o.i)(),S=v||j,R=b&&n,T=function(e){var t=e.height;return t&&t in Oa?Oa[t]:Oa.tall}(w);return Object(u.D)(w)&&!Object(u.D)(e.momentData)&&k(Object(s.a)({},w,e.momentData)),Object(o.x)(r.useCallback((function(){return h(!0)}),[]),300),r.useEffect((function(){R&&Object(Se.b)(p.current)}),[R]),r.createElement(de,null,r.createElement(he,{shown:n}),r.createElement(zr,{show:R,nodeRef:m,onTransitionEnd:function(){return E(!1)},onTransitionStart:function(){return E(!0)},durationFactor:T/.8},r.createElement(Mr,{innerRef:m,heightPercentage:T},r.createElement(Ur,{noShrink:!0},r.createElement(Zr,{src:w.icon,"aria-hidden":!0}),r.createElement(Vr,Object(s.a)({ellipsis:!0,flexFill:!0,tabIndex:-1,innerRef:p},C),w.title),w.externalLink&&r.createElement(ee,{href:w.externalLink,rel:"nofollow noopener noreferrer",className:ja,"aria-label":"Open in a new tab"},r.createElement(B.o,{"aria-hidden":!0})),r.createElement(B.h,{onClick:a,className:ja,"aria-label":"Close modal"},r.createElement(B.d,null))),r.createElement(qr,{hidden:S,close:a,url:w.url,sendMessage:function(e){var t=e.text;c(t),d&&d(t)},sendSystemMessage:l,setAttributes:i,onMomentDataChanged:function(e){return k((function(t){return e?Object(s.a)({},t,e):{}}))},onLoadingChanged:x,allowVideoConferencing:t}),S&&r.createElement(Ea.a,{size:"xlarge",style:{margin:"auto"}}))))})),ya=n(207),wa=n(61),ka=n(79),Ca=Object(i.E)("span",{target:"e1oq7ugp0"})((function(e){var t=e.failed,n=e.theme;return{color:t?n.typography.errorCaption.color:n.typography.basic.color}}),";"),Sa=Object(i.E)("div",{target:"e1oq7ugp1"})("flex:1;display:flex;flex-direction:column;margin:2px;min-width:calc(50% - 4px);max-width:100%;height:140px;"),Ra=Object(i.E)("div",{target:"e1oq7ugp2"})("border-radius:",(function(e){return e.theme.borderRadius.xl}),";flex:1;width:100%;height:100%;display:flex;overflow:hidden;position:relative;align-items:center;justify-content:center;"),Ta=Object(i.E)("div",{target:"e1oq7ugp3"})("color:",(function(e){return e.theme.colors.text.muted}),";background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";width:100%;height:100%;display:flex;align-items:center;justify-content:center;"),_a=Object(i.E)("img",{target:"e1oq7ugp4"})("width:100%;height:auto;"),Aa=Object(i.E)("div",{target:"e1oq7ugp5"})("position:absolute;top:6px;right:6px;z-index:1;"),za=Object(i.E)("div",{target:"e1oq7ugp6"})("height:24px;width:24px;display:flex;border-radius:50%;align-items:center;justify-content:center;color:",(function(e){return e.theme.colors.text.white}),";background-color:",(function(e){var t=e.theme,n=e.success,r=e.error;return n?t.colors.success:r?t.colors.error:void 0}),";"),Ia=Object(i.E)("div",{target:"e1oq7ugp7"})("opacity:",(function(e){return e.visible?1:0}),";transition:opacity 100ms ",(function(e){return e.theme.transitions.easings.smooth}),";position:absolute;left:6px;right:6px;bottom:6px;display:flex;flex-direction:row-reverse;align-items:center;justify-content:space-between;z-index:1;",Ve.l,"{width:20px;height:20px;}"),Ma=Object(i.E)("div",{target:"e1oq7ugp8"})("border-radius:",(function(e){return e.theme.borderRadius.md}),";color:",(function(e){return e.theme.colors.text.white}),";padding:2px;display:flex;flex-direction:row;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.6);"),Ba=Object(i.E)("span",{target:"e1oq7ugp9"})((function(e){return e.theme.typography.caption}),";color:",(function(e){return e.theme.colors.text.white}),";cursor:pointer;margin-right:4px;"),Fa=Object(i.A)("cursor:pointer;"),Na=function(e){var t=e.name,n=e.failed,c=e.finished,l=e.url,u=e.fileType,d=e.mobile,m=e.alternativeText,p=e.onCancel,f=e.onAlternativeTextEdit,b=e.progress,h=void 0===b?0:b,v=e.failReason,E=void 0===v?"":v,O=e.insistHover,j=e.onHoverChange,x=Object(Qn.d)({onHoverChange:j}),y=x.hoverProps,w=x.isHovered,k=Object(o.i)(),C=k.focusVisible,S=Object(g.a)(k,["focusVisible"]);return r.createElement(a.a,null,(function(e){return r.createElement(Sa,null,r.createElement(Ra,y,r.createElement(Aa,null,c&&r.createElement(za,{success:!0},r.createElement(Ve.A,{size:24,"aria-hidden":!0})),n&&r.createElement(Ut,{label:E,allowTouch:!0},r.createElement(za,{error:!0},r.createElement(Ve.c,{className:Fa,size:24,"aria-label":E}))),!c&&!n&&r.createElement(Ea.a,{size:"medium",progress:h,"aria-hidden":!0})),(p||f)&&r.createElement(Ia,Object(s.a)({visible:O||w||C||d},S),p&&r.createElement(Ma,null,r.createElement(Ve.l,{onClick:p,"aria-label":"remove the "+t+" file"},r.createElement(Ve.v,{size:20,"aria-hidden":!0}))),"image"===u&&f&&r.createElement(Ma,null,r.createElement(Ve.l,{onClick:f,"aria-label":"add alternative text to the "+t+" image"},r.createElement(Ve.h,{size:20,"aria-hidden":!0})),r.createElement(Ba,{onClick:f},e("alt_text")))),"image"===u&&r.createElement(_a,{src:l,alt:m||"",style:{opacity:c?1:.25},className:Object(i.A)("transition:opacity 100ms linear;")}),"other"===u&&r.createElement(Ta,null,r.createElement(Ve.j,{size:56}))),r.createElement(Ca,{ellipsis:!0,failed:n,finished:c},t))}))},Ha=Object(i.E)("p",{target:"eprg9im0"})("margin-bottom:",(function(e){var t=e.theme,n=e.mobile;return"modern"!==t.name&&n?0:4}),"px;",(function(e){return e.theme.typography.caption})," ",K(),";margin:0;padding:0 12px;max-width:100%;max-height:50px;"),La=Object(i.E)("div",{target:"eprg9im1"})((function(e){var t=e.theme;return!e.mobile&&"modern"===t.name&&"max-height: 230px; overflow-y: auto;"})),Da=Object(i.E)("div",{target:"eprg9im2"})("height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?145:140}),"px;overflow:hidden;display:flex;align-items:center;justify-content:center;width:100%;"),Pa=Object(i.E)("div",{target:"eprg9im3"})("padding:",(function(e){var t=e.theme;return t.spaces.space3+" "+t.spaces.space5}),";display:flex;flex-direction:row;justify-content:center;align-items:center;max-width:100%;"),qa=Object(i.E)("input",{target:"eprg9im4"})("background-color:",(function(e){return e.theme.colors.surface.lightVariant}),";border:1px solid ",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:"transparent"}),";flex:1;height:34px;margin:0;padding:8px 6px;min-width:0;border:none;outline:none;border-radius:6px;border-top-right-radius:0;border-bottom-right-radius:0;border-right:none;"),Va=Object(i.E)(B.h,{target:"eprg9im5"})("color:",(function(e){var t=e.theme;return e.highlighted?t.colors.ctaText:t.colors.text.white}),";background-color:",(function(e){var t=e.theme;return e.highlighted?t.colors.cta:t.colors.grayscale[200]}),";height:34px;width:34px;justify-content:center;align-items:center;display:flex;padding:6px 8px;border-top-left-radius:0;border-bottom-left-radius:0;border-top-right-radius:6px;transition:background 100ms linear;"),Ua=Object(i.A)("width:100%;height:auto;"),Ga=function(e){var t=e.url,n=e.alternativeText,i=e.onAlternativeTextChanged,c=e.mobile,l=r.useState(n||""),u=l[0],d=l[1],m=Object(o.i)(),p=m.focusVisible,f=Object(g.a)(m,["focusVisible"]);return r.createElement(a.a,null,(function(e){return r.createElement(La,{mobile:c},r.createElement(Da,{mobile:c},r.createElement("img",{src:t,className:Ua,alt:n})),r.createElement(Pa,null,r.createElement(qa,Object(s.a)({},f,{autoFocus:!0,maxLength:16384,value:u,"aria-label":e("describe_image"),placeholder:e("describe_image"),highlighted:!!u||p,onChange:function(e){var t=e.target;return d(t.value)}})),r.createElement(Va,{"aria-label":"save the image's alternative text",highlighted:u!==n||p,disabled:u===n,onClick:function(){i(u)}},r.createElement(B.a,{size:24}))),r.createElement(Ha,{mobile:c},e("alternative_text_description")))}))},Wa=n(57),Ya=Object(i.E)("h2",{target:"e1k6tlos0"})((function(e){var t=e.failed,n=e.theme;return t&&{color:n.typography.errorCaption.color}})," padding:0 6px;font-size:14px;font-weight:normal;align-self:center;margin:0;"),Za=Object(i.E)("div",{target:"e1k6tlos1"})("display:flex;cursor:pointer;"),Qa=Object(i.E)("div",{target:"e1k6tlos2"})("transition:max-height ",(function(e){return e.longAnimation?600:400}),"ms ",(function(e){return e.theme.transitions.easings.swift}),";overflow:hidden;max-height:249px;"),Ja=Object(i.E)("div",{target:"e1k6tlos3"})("height:auto;",(function(e){return e.edit&&{margin:"0 -8px"}})),Ka=Object(i.E)("div",{target:"e1k6tlos4"})("max-height:",(function(e){var t=e.theme;return e.mobile||"modern"!==t.name?200:170}),"px;overflow:auto;display:flex;flex-direction:row;flex-wrap:wrap;padding:4px 0;"),Xa=Object(i.E)("hr",{target:"e1k6tlos5"})("margin:",8,"px -",8,"px 0;border:0;border-bottom:1px solid rgba(0,0,0,0.1);"),$a=Object(i.E)(Ve.e,{target:"e1k6tlos6"})((function(e){return"up"===e.direction&&{transform:"scaleY(-1)"}})),ei=Object(i.A)("padding-left:4px;"),ti=Object(i.E)(B.n,{target:"e1k6tlos7"})("padding:",(function(e){var t=e.theme,n=e.isEdit,r=e.expanded;return!e.mobile&&"modern"===t.name&&n&&r?"8px 8px 0":"8px"}),";",(function(e){return e.theme.typography.basic}),";overflow:hidden;"),ni=Object(i.A)("margin-top:6px;max-width:100%;"),ri=Object(i.A)("transform:scaleX(-1);"),ai=Object(ka.createSelector)([u.A],(function(e){return e.map((function(e){return Object(s.a)({id:e.id},e.properties)}))})),ii=Object(a.c)((function(e,t){var n=t.chatId,r=function(t){e.emit("cancel_upload",{eventId:t})},a=function(t,r){e.updateEvent(n,t,{properties:{alternativeText:r}})},i=function(){e.emit("send_file_events")};return function(e){var t=e.getApplicationState(),n=t.isSendingFileEvents,o=t.mobile,c=t.protocol,s=t.config,u=t.license,d=t.group,m=t.requestedGroup,p=ai(Object(l.m)(e));return{mobile:o,protocol:c,persistKey:Object(Wa.a)({license:u,group:d,requestedGroup:m}),isSendingFileEvents:n,uploadEntries:p,cancelUpload:r,setAlternativeText:a,sendFiles:i,localize:e.localize,themeName:s.theme.name}}}))((function(e){var t=e.uploadEntries,n=e.uploadEnabled,a=e.cancelUpload,i=e.localize,o=e.mobile,c=e.protocol,l=e.persistKey,d=e.sendFiles,m=e.isSendingFileEvents,f=e.setAlternativeText,b=e.themeName,h=Object(Se.d)(),g=r.useState(!0),v=g[0],E=g[1],O=r.useState(!1),j=O[0],x=O[1],y=r.useState(!1),w=y[0],k=y[1],C=r.useState(null),S=C[0],R=C[1],T=r.useState(""),_=T[0],A=T[1],z=r.useRef(null),I=r.useRef(null),M=function(e,t){var n=e.filter((function(e){return e.failed})),r=e.filter((function(e){return e.finished})).length,a=n.length,i=e.length,o=t("file_upload_status").replace("%finishedCount%",String(r)).replace("%totalCount%",String(i));switch(!0){case a>0:return{uploadStatus:"error",title:a>1?t("files_failed_to_upload").replace("%files%",String(a)):n[0].failReason};case r===i:return{uploadStatus:"success",title:o};default:return{uploadStatus:"pending",title:o}}}(t,i),B=function(){_&&A("")},F=r.useCallback((function(){return o||"modern"!==b?249:228}),[b,o]),N=r.useCallback((function(e){return(t.length>2||e?F():201)+"px"}),[t,F]),H=r.useCallback((function(e){D(e)&&(z.current.style.maxHeight=e)}),[]),L=function(e){return I.current.style.height=e},D=function(e){return z.current.style.maxHeight!==e},P=r.useCallback((function(){v?(x(!0),H("0px")):E(!0)}),[v,H]),q=function(e){if(v){var t=N(!!e);!e&&D(t)?(R(null),k(!0),L(I.current.clientHeight+"px"),H(t)):(H(F()+"px"),R(e))}else R(e)},V=r.useCallback((function(){j?(E(!1),x(!1)):w&&(L("auto"),k(!1))}),[j,w]);return r.useEffect((function(){t.length&&v&&!j&&H(N(!!S))}),[t.length,v,j,H,N,S]),r.useEffect((function(){if("lc3"===c&&Object(wa.b)("session")){var e=function(){Object(u.D)(t)||function(e,t){var n=e.filter((function(e){return e.finished})).map((function(e){return Object(s.a)({},e,{url:e.serverUrl})}));Object(u.D)(n)||window.sessionStorage.setItem(t,JSON.stringify(n))}(t,l)};return window.addEventListener("beforeunload",e),function(){return window.removeEventListener("beforeunload",e)}}}),[t,l,c]),r.createElement(ti,{isEdit:S,expanded:!j&&v,mobile:o},r.createElement(p.b,{message:M.title,clearOnUnmount:!0,"aria-live":"error"===M.uploadStatus?"assertive":"polite"}),r.createElement(Za,{onClick:function(e){e.stopPropagation(),P()}},S?r.createElement(Ve.l,{"aria-label":"go back to upload list",onClick:function(e){e.stopPropagation(),q(null)}},r.createElement(Ve.a,{size:24,className:ri,"aria-hidden":!0})):r.createElement(r.Fragment,null,"pending"===M.uploadStatus?r.createElement(Ea.a,{size:"medium","aria-hidden":!0}):"success"===M.uploadStatus?r.createElement(za,{success:!0},r.createElement(Ve.A,{size:24,"aria-label":"Upload success"})):r.createElement(za,{error:!0},r.createElement(Ve.c,{size:24,"aria-label":"Upload error"}))),r.createElement(Ya,{flexFill:!0,ellipsis:!0,failed:"error"===M.uploadStatus},S?i("add_alternative_text"):M.title),r.createElement(Ve.l,{className:ei,"aria-label":"Toggle upload list","aria-controls":h,"aria-expanded":v},r.createElement(Ve.m,{size:24,"aria-hidden":!0},r.createElement($a,{direction:v&&!j?"down":"up",size:24})))),v&&!j&&r.createElement(Xa,null),r.createElement(Qa,{innerRef:z,onTransitionEnd:V,longAnimation:!v||j},v&&r.createElement(Ja,{id:h,edit:!!S,innerRef:I},S?r.createElement(Ga,Object(s.a)({},t.find((function(e){return e.id===S})),{onAlternativeTextChanged:function(e){q(null),f(S,e)},mobile:o})):r.createElement(r.Fragment,null,r.createElement(Ka,{mobile:o},t.map((function(e){return r.createElement(Na,Object(s.a)({},e,{key:e.id,mobile:o,failed:!!e.failed,insistHover:_===e.id,onHoverChange:B,onCancel:"lc3"===c&&!m||e.failed?function(){return function(e){if(!o&&t.length>1){var n=Object(u.n)((function(t){return t.id===e}),t),r=n===t.length-1;A(t[n+(r?-1:1)].id)}a(e)}(e.id)}:null,onAlternativeTextEdit:"lc3"!==c||m?null:function(){return q(e.id)}}))}))),"lc3"===c&&r.createElement(ht.a,{onClick:d,disabled:!n,pending:m||"pending"===M.uploadStatus,className:ni},i("send_files"))))))})),oi=Object(i.E)("div",{target:"ezpiwsd0"})("position:absolute;bottom:0;left:0;right:0;z-index:100;"),ci=Object(a.c)((function(e,t){var n=t.markAsSeen,r=function(){l.s(c.b,Date.now(),e).reverse().forEach((function(e){return n(e.id)}))};return function(e){var t=!Object(u.D)(l.m(e)),n=e.getApplicationState("mobile"),a=l.i(e,c.b),i=e.getUnseenCount(c.b),o=a&&a.properties?a.properties.text:null;return{isFileUploadAllowed:l.W(e),isFileUploadPossible:l.F(e),isUploadingFiles:t,previewText:o,unseenCount:i,mobile:n,markAllEventsAsSeen:r,localize:e.localize}}}))((function(e){var t=e.isFileUploadAllowed,n=e.isFileUploadPossible,a=e.isUploadingFiles,i=e.previewText,c=e.unseenCount,l=e.chatId,s=e.mobile,u=e.scrollToBottom,m=e.markAllEventsAsSeen,f=e.isOnBottomSource,b=e.isScrollable,g=e.localize,v=i,E=Object(o.v)(f),O=c>0&&!E&&b,j=r.useState(O),x=j[0],y=j[1];return v||(v=g(c>1?"new_messages":"new_message")),!O&&x&&y(!1),r.useEffect((function(){if(O){var e=setTimeout((function(){return y(!0)}),300);return function(){return clearTimeout(e)}}}),[O]),r.createElement(oi,null,r.createElement(d.a,{appear:!0,component:null},a&&r.createElement(h.b,{key:"upload"},t&&r.createElement(ii,{chatId:l,uploadEnabled:n})),x&&r.createElement(h.b,{key:"unseen"},r.createElement(B.x,{text:v,stickToEdge:s,unseenCount:c,onClick:u,onClose:m}))),x&&r.createElement(p.b,{message:v,clearOnUnmount:!0,"aria-live":"assertive"}))})),li=Object(L.b)((function(e){var t=e.theme,n=Object(g.a)(e,["theme"]),a=t.Maximized.css.background;return r.createElement(Ea.a,Object(s.a)({},n,{adjustToColor:a,ariaLabel:"Loading previous messages"}))})),si=Object(i.E)("div",{target:"e1fh44if0"})("padding:1em;display:flex;flex-direction:column;align-items:center;justify-content:center;font-size:0.9em;"),ui=function(e){return r.createElement(si,null,r.createElement(ht.a,e))},di=Object(a.c)((function(e){var t=function(){return b.H(e)},n=function(){return b.I(e,c.b)};return function(e){var r="startChatAgain"===l.h(e,c.b),a=e.getChat(c.b).properties,i=a.starting,o=a.startChatAgainPending,s=e.localize(r?"embedded_start_chat_again":"embedded_greeting_accept");return{startAction:r?n:t,buttonLabel:s,isPending:i||o}}}))((function(e){var t=e.isPending,n=e.buttonLabel,a=e.startAction,i=e.onClick,o=void 0===i?u.S:i;return r.createElement(ui,{disabled:t,pending:t,onClick:function(e){a(),o(e)}},n)})),mi=Object(i.E)("div",{target:"e1onopp20"})("position:absolute;top:0;left:0;right:0;background:",(function(e){return e.theme.colors.caution}),";z-index:2;color:",(function(e){return e.theme.colors.text.black}),";text-align:center;font-size:0.9em;line-height:2.8em;"),pi=Object(i.E)("div",{target:"e1onopp21"})("flex-grow:1;height:100%;position:relative;min-height:0;-webkit-overflow-scrolling:touch;"),fi=Object(i.A)("background:transparent;overscroll-behavior:contain;position:absolute;top:0;bottom:0;left:0;right:0;"),bi=Object(i.A)("position:absolute;bottom:0;left:50%;z-index:3;transform:translate(-50%,50%);"),hi=function(e){return e.events[0].id},gi=function(e){return 0!==e.length?hi(e[0]):null},vi=function(e){var t=Object(u.J)(e);if(!t)return null;var n=Object(u.J)(t.events);return n?n.id:null};var Ei=Object(m.a)([function(e,t){return e.getTimeline(t)},u.A],(function(e,t){var n=l.A(t);return e.map((function(e,r){var a=0===r,i=e.showDate&&!a&&n;return Object(s.a)({},e,{isThreadBoundary:i,authorData:t.getUser(e.author)})}))}))((function(e,t){return t})),Oi=Object(a.c)((function(e,t){var n=t.id,r=function(){b.G(e)},a=e.localize,i=function(){return e.updateChat(n,{properties:{loadingHistory:!0}})},o=function(t){return e.requestUpdateEvent(n,t,{seen:!0}).catch(u.S)},c=function(t,r){b.z(e,n,t,r)},s=function(t){var r=t.eventId,a=t.buttonId;e.sendEvent(n,{type:"rich_message_postback",properties:{eventId:r,postback:{id:a,toggled:!0}}})},d=function(t){return l.J(e,t)},m=function(t){return b.D(e,t)},p=function(t){return b.M(e,{properties:t})},f=function(t){var n=t.event,r=t.button;return b.n(e,n,r)};return function(e){var t=e.getChat(n),u=t.active,b=t.properties,h=b.agentIsTyping,g=b.loadingHistory,v=b.queued,E=b.ended,O=l.c(n,e),j=l.w(e,n),x=e.getUnseenCount(n),y=l.A(e)&&l.Q(e);return{agent:O,active:u,ended:E,loadHistory:i,isThreadStickerEnabled:y,hasMoreHistory:j,markAsSeen:o,sendMessage:c,queued:v,sendPostback:s,showPrechat:r,localize:a,updateSessionUser:p,showMoment:m,unseenCount:x,timeline:Ei(e,n,e.getState()),activeQuickReply:l.p(n,e),agentIsTyping:h&&!!O,shouldLoadHistory:j&&!g,showAvatar:l.g("agentAvatar",e).showWithMessage,pageFocused:e.getApplicationState("pageFocused"),inputMode:l.h(e,n),reconnecting:l.fb(e),displayOfflineInformation:l.db(e),lastSeenEvent:x>0&&e.getLastSeenAgentEvent(n),isGreeting:d,handleRichGreetingButtonClicked:f,isFillableFormDisplayed:l.G(e)}}}))((function(e){var t=e.displayOfflineInformation,n=e.active,a=e.ended,l=e.activeQuickReply,s=e.agent,m=e.isThreadStickerEnabled,f=e.hasMoreHistory,b=e.pageFocused,g=e.id,v=e.inputMode,E=e.loadHistory,O=e.localize,j=e.queued,x=e.reconnecting,y=e.shouldLoadHistory,w=e.showAvatar,C=e.showPrechat,S=e.timeline,R=e.agentIsTyping,T=e.mobile,_=e.unseenCount,z=e.lastSeenEvent,I=e.scrollingDeltaSource,B=e.sendMessage,F=e.showMoment,N=e.handleRichGreetingButtonClicked,L=e.isOnBottomSource,D=e.isFillableFormDisplayed,P=r.useRef(),q=Object(o.w)(!1),V=function(e){var t=r.useRef(e);return r.useEffect((function(){t.current=e})),r.useMemo((function(){return{handleActionButtonClick:function(e){var n=e.button,r=e.event,a=t.current,i=a.active,o=a.showMoment,c=a.sendPostback,l=a.sendMessage,s=a.isGreeting,u=a.handleRichGreetingButtonClicked;if(s(r))u({event:r,button:n});else if(i)switch(n.type){case"webview":return c({eventId:r,buttonId:n.postbackId}),void o({url:n.value,height:n.webviewHeight});case"message":return void l(n.text,{type:"action_button",event:r,button:n});default:return void c({eventId:r,buttonId:n.postbackId})}},markAsSeen:function(e){return t.current.markAsSeen(e)}}}),[])}(e),U=r.useRef(!1),G=r.useRef(),W=r.useState(_),Y=W[0],Z=W[1],Q=r.useState(z)[0],J=Object(o.e)((function(){return function(e,t,n,r){return e.some((function(e){return e.type===c.e}))?"draft":t?"newMessageDivider":r||n||!e.some((function(e){return e.events.some((function(e){return"boosters"===e.type}))}))?"form":"boosters"}(S,Y,n,a)})),K=Object(o.f)(x),X=r.useCallback((function(e){e&&y&&E()}),[y,E]),$=r.useCallback((function(){clearTimeout(G.current),G.current=setTimeout((function(){I.next({deltaX:0,deltaY:40})}),4e3)}),[I]),ee=r.useCallback((function(e){L.next(e),e&&D?$():clearTimeout(G.current)}),[L,D,$]);Object(o.q)((function(){clearTimeout(G.current)}));var te=Object(o.t)(P,{firstItemKey:gi(S),lastItemKey:vi(S),onIsScrolledToTopChanged:X,onIsScrolledToBottomChanged:ee,onIsUserScrollingChanged:q.next,onScrollDeltaChanged:I.next}),ne=te.scrollToTop,re=te.scrollToBottom,ae=te.getIsOnBottom,ie=te.onWheel,oe=te.onTouchStart,ce=te.getIsScrollable,le=te.setScrollTargetNode,se=r.useCallback((function(e){ae()&&re(e)}),[ae,re]);r.useEffect((function(){D?$():clearTimeout(G.current)}),[D,$]);var ue=r.useCallback((function(){se({duration:0})}),[se]),de=function(e){return void 0===e&&(e=u.S),function(){re({duration:0}),e()}},me=Object(o.r)((function(){ae()?re():re({duration:0}),Z(0)})),pe=r.useCallback((function(e){U.current=e}),[]),fe=!!(R||j||l||t);return r.useEffect((function(){fe&&se()}),[fe,se]),r.useEffect((function(){if(T){var e=function(){U.current&&re({duration:0})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}}),[T,re]),Object(o.s)({mainElementRef:P,itemsCount:S.reduce((function(e,t){return e+t.events.length}),0),tableEdgeReached:function(e){"previous"===e&&ne({duration:0})}}),r.createElement(k,{beginingOfTime:S.length>0?S[0].timestamp:null,rootRef:P},r.createElement(i.f,{noShrink:!0},r.createElement(mn,{chatId:g,isUserScrollingSource:q,scrollingDeltaSource:I,isOnBottomSource:L}),m&&r.createElement(A,{className:bi,isUserScrollingSource:q})),r.createElement(d.a,{appear:!0,component:null},r.createElement(h.c,null,r.createElement(pi,null,x&&!K&&r.createElement(r.Fragment,null,r.createElement(p.b,{message:O("reconnecting"),clearOnUnmount:!0,"aria-live":"assertive"}),r.createElement(mi,null,O("reconnecting")+"\u2026")),r.createElement(ci,{chatId:g,isScrollable:ce(),isOnBottomSource:L,scrollToBottom:re,markAsSeen:V.markAsSeen}),r.createElement(i.l,{active:b,className:fi,onWheel:ie,onTouchStart:oe,innerRef:P},f&&r.createElement(i.r,null,r.createElement(li,{size:"medium",style:{margin:"auto"}})),S.map((function(e,t){return r.createElement(r.Fragment,{key:hi(e)},e.isThreadBoundary&&r.createElement(M,{timestamp:e.timestamp}),Q&&Y>0&&e.events.some((function(e){return e.id===Q.id}))&&r.createElement(H,{unseenCount:Y,setScrollTargetNode:le}),r.createElement(i.k,{isOwn:e.own,onlyFirstWithMeta:!0,avatar:w&&"carousel"!==e.type&&e.authorData.avatar?e.authorData.avatar:void 0},e.events.map((function(t,n){return r.createElement(la,{chatId:g,id:t.id,key:t.id,showMetaOnClick:0!==n,radiusType:e.radiusType,listItemHandlers:V,scrollTarget:J,setScrollTargetNode:!Y&&le,showMoment:F})}))))})),l&&r.createElement("div",{role:"row"},r.createElement("div",{role:"gridcell"},r.createElement(sa.b,{"aria-labelledby":l.id,onSelect:function(e){var t=l.properties.quickReplies[e];l.properties.invitation?N({event:l.id,button:t}):B(t.text,{type:"quick_reply",event:l.id,button:t})},replies:l.properties.quickReplies}))),R&&r.createElement(r.Fragment,null,r.createElement(p.b,{clearOnUnmount:!0,"aria-live":"polite",message:O("operator_is_typing",{operator:"john"}).replace("...","")}),r.createElement(d.a,{appear:!0,component:null},r.createElement(h.b,{exit:!1},r.createElement(ya.b,{avatar:w?s.avatar:null})))))))),"requestPrechat"===v?r.createElement(ui,{onClick:de(C)},O("embedded_greeting_accept")):"startChat"===v||"startChatAgain"===v?r.createElement(di,{onClick:de()}):"text"===v?r.createElement(va,{chatId:g,onSendMessage:me,onHeightChange:ue,onFocusChange:pe}):null,r.createElement(xa,{chatId:g,onSendMessage:me}))})),ji=Object(i.E)("div",{displayName:"View",section:!0,target:"e1u2umur0"})("flex-grow:1;display:flex;height:100%;min-height:0;padding-bottom:1em;"),xi=Object(i.E)("div",{displayType:"ViewContent",target:"e1u2umur1"})("overflow-y:auto;height:100%;flex-grow:1;padding:",(function(e){return e.full?"0 !important":"1em 1em 0 1em"}),";"),yi=function(e){return Object(i.A)("&-enter,&-appear{opacity:0;}&-enter&-enter-active,&-appear&-appear-active{opacity:1;transition:opacity ",200,"ms ",e.transitions.easings.sharp,";}&-exit{opacity:1;}&-exit&-exit-active{opacity:0;transition:opacity ",200,"ms ",e.transitions.easings.sharp,";}")},wi=Object(i.A)("width:100%;"),ki=Object(L.b)((function(e){var t=e.children,n=e.theme,a=e.full,i=void 0!==a&&a;return r.createElement(ji,null,r.createElement(d.a,{className:wi},r.createElement(v.a,{appear:!0,classNames:yi(n),timeout:200},r.createElement(xi,{full:i},t))))})),Ci=function(){return r.createElement(a.a,null,(function(e){return r.createElement(ki,null,r.createElement(i.c,null,r.createElement(i.n,null,e("lost_connection"))))}))},Si=Object(i.D)("50%{opacity:0.0;}"),Ri=Object(i.A)("background:currentColor;opacity:0.3;animation:",Si," 1.5s linear 0s infinite;"),Ti=Object(i.A)(Ri,";"),_i=Object(i.E)("div",{target:"e1uut4cd0"})("width:",(function(e){return e.width||"10em"}),";height:1em;margin:0.3em;border-radius:",(function(e){return e.theme.borderRadius.sm}),";",Ri,";"),Ai=Object(i.E)("div",{target:"e1uut4cd1"})("width:100%;"),zi=Object(i.E)("div",{target:"e1uut4cd2"})("padding:1em;"),Ii=Object(i.E)("div",{target:"e1uut4cd3"})("width:100%;margin-top:0.5em;"),Mi=Object(i.E)("div",{displayName:"Message",section:!0,target:"e1uut4cd4"})(),Bi=function(){return r.createElement(ki,{full:!0},r.createElement(Ai,null,r.createElement(i.a,null,r.createElement(i.b,{className:Ti,letter:" "})),r.createElement(zi,null,r.createElement(Ii,null,r.createElement(i.r,null,r.createElement(Mi,null,r.createElement(i.c,null,r.createElement(i.n,null,r.createElement(_i,null),r.createElement(_i,{width:"7em"})))))),r.createElement(Ii,null,r.createElement(i.r,{reverse:!0},r.createElement(Mi,null,r.createElement(i.c,null,r.createElement(i.n,null,r.createElement(_i,null)))))),r.createElement(Ii,null,r.createElement(i.r,null,r.createElement(Mi,null,r.createElement(i.c,null,r.createElement(i.n,null,r.createElement(_i,null)))))))))},Fi=Object(i.E)("div",{target:"e5cxvfk0"})("display:flex;justify-content:center;font-size:0.9em;"),Ni=Object(i.E)("p",{target:"errpamd0"})("text-align:center;"),Hi=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).state={open:!1,submitting:!1},t.showModal=function(){t.setState({open:!0})},t.closeModal=function(){t.setState({open:!1})},t.handleCloseClick=function(){t.setState({submitting:!0}),t.props.closeChat().then((function(){t.setState({submitting:!1}),t.closeModal()})).catch((function(){t.setState({submitting:!1})}))},t}return Object(ce.a)(t,e),t.prototype.render=function(){var e=this.props.localize,t=this.state.submitting;return r.createElement(r.Fragment,null,r.createElement(Ut,{label:e("close_chat")},r.createElement(B.h,{onClick:this.showModal,"aria-label":e("close_chat")},r.createElement(B.d,{"aria-hidden":!0}))),r.createElement(we,{shown:this.state.open,onClose:this.closeModal,"aria-labelledby":"close_chat_confirm_label"},r.createElement(G,{"aria-hidden":!0},r.createElement(B.f,null)),r.createElement(Ni,{id:"close_chat_confirm_label"},e("leave_chat_confirm")),r.createElement(Fi,null,r.createElement(gt,{destructive:!0,label:e("close_chat"),submitting:t,onClick:this.handleCloseClick}))))},t}(r.Component),Li=n(412),Di=r.createContext({}),Pi=Object(i.E)("ul",{target:"e1ixnb8m0"})("list-style-type:none;position:absolute;z-index:100;background:",(function(e){return e.theme.colors.surface.light}),";box-shadow:",(function(e){return e.theme.boxShadow.md}),";border-radius:",(function(e){return e.theme.borderRadius.lg}),";margin:0;margin-top:2.2em;margin-left:0.8em;padding:0;min-width:180px;overflow:hidden;&:focus{outline:none;}& >:last-child{border-bottom:0;}"),qi=function(e){var t=e.highlightedIndex,n=e.items,r=t.current;return!(null===r||r<0)&&"true"!==n.current[r].ref.current.getAttribute("aria-disabled")};var Vi=function(e){var t=e.children,n=e.onClose,a=e.menuButtonRef,i=e.onSelect,c=Object(g.a)(e,["children","onClose","menuButtonRef","onSelect"]),l=r.useRef(null),u=Object(Li.a)({onSelect:i}),d=u.useHighlightedItemId(),m=Object(o.h)();return Object(o.p)((function(){"click"===m()&&u.clearHighlightedItem(),l.current.focus()})),Object(o.n)(l,(function(e){a.current.contains(e.target)||n()})),r.createElement(de,null,r.createElement(Di.Provider,{value:u},r.createElement(Pi,Object(s.a)({onMouseOut:u.clearHighlightedItem,tabIndex:-1,role:"menu",innerRef:l,"aria-activedescendant":d,onKeyDown:function(e){switch(e.preventDefault(),e.key){case"ArrowUp":return void u.moveHighlightedItem(-1);case"ArrowDown":return void u.moveHighlightedItem(1);case"Home":return void u.setHighlightedItem(0);case"End":return void u.setHighlightedItem(u.items.current.length-1);case" ":if(!qi(u))return;return void u.selectHighlightedItem();case"Enter":if(!qi(u))return;return u.selectHighlightedItem(),n(),void a.current.focus();case"Tab":return n(),e.shiftKey?void a.current.focus():void Object(Br.c)(a.current).focus();case"Escape":return n(),void a.current.focus();default:return void u.highlightItemByString(e)}}},c),t)))},Ui=Object(i.E)("h2",{target:"emwx8nd0"})("text-align:center;font-size:16px;font-weight:normal;"),Gi=function(e){var t=e.email,n=e.localize,a=e.sent,c=e.open,l=e.onClose,s=e.onSubmit,d=e.mobile,m=Object(o.k)("email-transcript"),p=r.useState((function(){return{email:t}})),f=p[0],b=p[1];return r.useEffect((function(){if(c){var e=m.get();b(e||{email:t})}}),[m,t,c]),r.createElement(we,{shown:c,onClose:l,"aria-labelledby":a?"email-transcript-sent-label":"email-transcript-not-sent-label"},c&&(a?r.createElement(r.Fragment,null,r.createElement(G,{"aria-hidden":!0},r.createElement(B.k,null)),r.createElement(Ui,{id:"email-transcript-sent-label",textWrap:!0},n("chat_transcript_sent").replace(/%s/g,t||"")),r.createElement(Fi,null,r.createElement(ht.a,{capitalize:!0,onClick:l},n("hide")))):r.createElement(r.Fragment,null,r.createElement(G,{"aria-hidden":!0},r.createElement(B.k,null)),r.createElement(Ui,{id:"email-transcript-not-sent-label"},n("send_transcript_to_email")),r.createElement(It,{id:"email_transcript",initialValues:f,mobile:d,onSubmit:function(e){return s(e.email).then((function(){return m.destroy()})).catch((function(){var e;return(e={})[Yn.a]=n("lost_connection"),e}))},submitLabel:n("send"),validate:function(e){return e.email?{}:{email:n("survey_fill_in_required_fields")}}},r.createElement(i.r,null,r.createElement(ke.b,{onChange:function(e){var t=e.values;e.dirty&&m.set(t)}}),r.createElement(cr,{ariaLabel:"Enter your email address",name:"email",required:!0,serverName:"",label:"",type:"email",localize:u.A}))))))},Wi=Object(i.E)("li",{target:"ezmrzej0"})("background:transparent;font-family:inherit;font-size:14px;border:0;display:flex;align-items:center;padding:1.3em;width:100%;cursor:pointer;",(function(e){var t=e.theme,n=e.highlighted;return Object(s.a)({borderBottom:"1px solid "+t.colors.divider},n&&{color:""+t.colors.ctaText,backgroundColor:""+t.colors.cta})})," &[aria-disabled='true']{pointer-events:none;",(function(e){var t=e.theme,n=e.highlighted;return Object(s.a)({color:""+t.colors.grayscale[400]},n&&{color:""+t.colors.grayscale[600],backgroundColor:""+t.colors.grayscale[100]})}),"}"),Yi=function(e){var t=e.disabled,n=e.text,a=e.value,i=Object(g.a)(e,["disabled","text","value"]),o=r.useRef(null),c=r.useContext(Di),l=c.clearHighlightedItem,u=(0,c.useItem)({ref:o,text:n,value:a}),d=u.id,m=u.highlight,p=u.select,f=(0,u.useHighlighted)();return r.createElement(Wi,Object(s.a)({role:"menuitem",id:d,innerRef:o,highlighted:f,onMouseOver:m,onMouseOut:l,onClick:function(e){1!==e.nativeEvent.which||t||p()}},t&&{"aria-disabled":!0},i))},Zi=Yi,Qi=function(e){var t=e.checked,n=Object(g.a)(e,["checked"]);return r.createElement(Yi,Object(s.a)({role:"menuitemcheckbox","aria-checked":t},n))},Ji=Object(i.A)("margin-right:8px;"),Ki=Object(i.A)("&-enter{opacity:0;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,20%,0);}}&-enter-active{opacity:1;transition:opacity 100ms ease-in-out;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,0%,0);transition:transform 200ms;}}&-exit{opacity:1;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,0%,0);}}&-exit-active{opacity:0;transition:opacity 200ms ease-in-out;[role='menuitem'],[role='menuitemcheckbox']{transform:translate3d(0,20%,0);transition:transform 200ms;}}"),Xi=Object(a.c)((function(e){var t=c.b,n=function(n){return e.requestUpdateChat(t,{properties:{transcriptSentTo:n}})},r=function(){e.setApplicationState({muted:!e.getApplicationState("muted")})};return function(e){var a=e.getChat(t),i=a.active,o=a.properties,c=o.transcriptSentTo;return{localize:e.localize,muted:e.getApplicationState("muted"),sendTranscript:n,transcriptSentTo:c,enableTranscript:i||o.ended,showTranscript:Object(l.g)("emailTranscript",e).enabled,toggleSounds:r,customerEmail:e.getSessionUser().email}}}))((function(e){var t=e.customerEmail,n=e.enableTranscript,a=e.localize,c=e.muted,l=e.sendTranscript,u=e.showTranscript,m=e.toggleSounds,p=e.transcriptSentTo,f=r.useState(!1),b=f[0],h=f[1],g=r.useState(!1),E=g[0],O=g[1];Object(o.h)();var j=r.useRef(null),x=!!p,y=r.useCallback((function(e){switch(e){case"mute":return void m();case"transcript":return h(!1),void O(!0)}}),[m]);return r.createElement(r.Fragment,null,r.createElement(Ut,{disabled:b,label:a("theme_options")},r.createElement(i.h,Object(s.a)({innerRef:j,onClick:function(){return h((function(e){return!e}))},className:Object(i.A)("padding:0;"),"aria-label":b?"Close menu":"Open menu","aria-haspopup":!0},b&&{"aria-expanded":b}),r.createElement(B.e,{"aria-hidden":!0}))),r.createElement(d.a,{component:null},b&&r.createElement(v.a,{classNames:Ki,timeout:200},r.createElement(Vi,{"aria-label":"Menu",menuButtonRef:j,onClose:function(){return h(!1)},onSelect:y},u&&r.createElement(Zi,{disabled:!n,text:a("send_transcript"),value:"transcript"},r.createElement(B.k,{className:Ji,"aria-hidden":!0}),a("send_transcript")),r.createElement(Qi,{checked:c,text:a(c?"unmute":"mute"),value:"mute"},c?r.createElement(B.v,{className:Ji,"aria-hidden":!0}):r.createElement(B.m,{className:Ji,"aria-hidden":!0}),a(c?"unmute":"mute"))))),r.createElement(Gi,{email:x?p:t,localize:a,onClose:function(){return O(!1)},onSubmit:l,sent:x,open:E}))})),$i=function(e){return"modern"===e?28:32},eo=window.matchMedia("(max-height: 330px)"),to=Object(i.A)("overflow:hidden;flex-grow:0;text-align:left;padding:0 0.8em;font-weight:700;display:flex;align-items:center;transition:0.3s background-color;"),no=Object(i.E)("div",{displayName:"IconPlaceholder",target:"e7bf83j0"})("width:25px;flex-shrink:0;"),ro=function(e){return Object(i.A)("height:30px;line-height:30px;font-size:inherit;font-weight:700;margin-top:0;margin-bottom:0;transition:opacity 100ms ",e.transitions.easings.smooth,";")},ao=Object(i.E)(G,{displayName:"HourGlassLabel",target:"e7bf83j1"})("margin-right:5px;"),io=Object(i.E)("h1",{target:"e7bf83j2"})((function(e){var t=e.theme;return ro(t)})),oo=Object(i.E)("button",{target:"e7bf83j3"})((function(e){var t=e.theme;return ro(t)})," width:100%;height:",(function(e){return"modern"===e.theme.name?"24px":"32px"}),";display:flex;flex-direction:row;justify-content:center;align-items:center;position:relative;color:inherit;background:none;border:none;cursor:pointer;appearance:none;"),co=Object(i.E)("span",{target:"e7bf83j4"})("min-width:0;"),lo=Object(i.E)("div",{target:"e7bf83j5"})(),so=function(e){return Object(u.db)(e-1).map((function(e){return r.createElement(no,{key:"placeholder_"+e})}))},uo=Object(a.c)((function(e){var t=function(t,n,r,a){return t&&a?t.name:n||r?e.localize("welcome_title"):""},n=function(){return e.requestUpdateChat(c.b,{active:!1})},r=e.getApplicationState("embedded");return function(e){var a=Object(l.c)(c.b,e),i=Object(l.eb)(e),o=Object(l.db)(e),s=Object(l.ab)(e);return{embedded:r,closeChat:n,title:e.localize("welcome_title"),alternateTitle:t(a,i,o,s),agent:a,isQueued:i,isOffline:o,showCloseButton:e.getChat(c.b).active,localize:e.localize,showAgentBar:s,showAvatar:Object(l.g)("agentAvatar",e).enabled}}}))(Object(L.b)((function(e){var t=e.showCloseButton,n=e.closeChat,a=e.localize,c=e.showMinimizedButton,l=e.title,u=e.alternateTitle,d=e.onMinimize,m=e.showAgentBar,p=e.scrollingDeltaSource,f=e.isQueued,b=e.isOffline,h=e.agent,g=e.showAvatar,v=e.isOnBottomSource,E=e.theme,O=r.useRef(),j=r.useRef(),x=r.useRef(),y=r.useRef(eo.matches),w=r.useState(!0),k=w[0],C=w[1],S=Object(o.i)(),R=E.name,T=r.useCallback((function(){O.current&&(O.current.style.opacity=1),j.current&&(j.current.style.opacity=0),x.current&&(x.current.style.transform="translateY("+$i(R)+"px)"),C(!0)}),[R]),_=r.useCallback((function(){p.next({deltaX:0,deltaY:-50})}),[p]);Object(o.p)(T),Object(o.b)(p,(function(e){var t=e.y;u&&!y.current&&(O.current&&(O.current.style.opacity=1-2*t),j.current&&(j.current.style.opacity=t),x.current&&(x.current.style.transform=0===t?"translateY("+$i(R)+"px)":"translateY("+($i(R)-60*t+("modern"===R?4:0))+"px)"),1===t&&k?C(!1):0!==t||k||C(!0))})),r.useEffect((function(){m&&u||T()}),[m,T,u]),r.useEffect((function(){var e=function(e){var t=e.matches;return y.current=t};return eo.addListener(e),function(){return eo.removeListener(e)}}),[]),r.useEffect((function(){if(v)return v.subscribe((function(e){e&&T()}))}),[v,T]);var A=function(e,t){var n=e.filter(Boolean),r=t.filter(Boolean);return n.length===r.length?{leftIcons:n,rightIcons:r}:n.length>r.length?{leftIcons:n,rightIcons:so(n.length-r.length).concat(r)}:{leftIcons:n.concat(so(r.length-n.length)),rightIcons:r}}([r.createElement(Xi,{key:"menu"})],[c&&r.createElement(Ut,{key:"minimize",label:a("embedded_minimize_window")},r.createElement(B.h,{onClick:d,"aria-label":a("embedded_minimize_window")},r.createElement(B.l,{"aria-hidden":!0}))),t&&r.createElement(Hi,{closeChat:n,key:"close",localize:a})]),z=A.leftIcons,I=A.rightIcons,M="modern"===R?"small":"normal";return r.createElement(i.y,{className:to,leftIcons:z,noShrink:!0,rightIcons:I,title:r.createElement(lo,{innerRef:x},r.createElement(io,{ellipsis:!0,innerRef:O,style:{marginBottom:30}},l),r.createElement(oo,Object(s.a)({innerRef:j,disabled:k,onClick:_,"aria-expanded":k,"aria-controls":"top-bar","aria-label":u||l},S),b&&r.createElement(Xt,{size:M,availability:"offline"}),f&&r.createElement(ao,{size:"modern"===R?"24px":"30px"},r.createElement(B.g,{size:22})),h&&m&&g&&r.createElement(Xt,{avatarUrl:h.avatar,size:M,availability:"online"}),h&&!g&&r.createElement(Xt,{size:M,availability:"online"}),r.createElement(co,{ellipsis:!0},u)))})}))),mo=["M181.18 103.421H238.128V89.1388H198.435V17.1462H181.18V103.421Z","M246.429 103.421H263.195V39.3312H246.429V103.421ZM245.07 22.5837C245.178 25.0948 246.252 27.4671 248.067 29.2056C249.883 30.9442 252.299 31.9147 254.812 31.9147C257.326 31.9147 259.742 30.9442 261.557 29.2056C263.372 27.4671 264.446 25.0948 264.554 22.5837C264.611 21.269 264.401 19.9564 263.937 18.725C263.473 17.4936 262.765 16.3689 261.854 15.4185C260.944 14.4681 259.851 13.7119 258.641 13.1952C257.431 12.6785 256.128 12.4122 254.812 12.4122C253.496 12.4122 252.194 12.6785 250.984 13.1952C249.773 13.7119 248.68 14.4681 247.77 15.4185C246.86 16.3689 246.151 17.4936 245.687 18.725C245.223 19.9564 245.013 21.269 245.07 22.5837Z","M328.862 39.3312H312.097L298.303 86.2931L284.492 39.3312H267.727L289.477 103.421H306.967L328.862 39.3312Z","M358.805 104.907C372.979 104.907 384.452 96.4069 386.663 84.6981H372C370.387 89.1387 365.964 92.8363 358.805 92.8363C349.072 92.8363 345.247 86.2931 345.247 78.7712V77.1763H387.152V65.9569C387.152 50.5506 377.546 37.8631 358.569 37.8631C339.592 37.8631 328.989 50.1881 328.989 67.57V76.3062C328.953 94.25 340.68 104.907 358.805 104.907ZM345.211 64.7244C345.211 56.0969 348.836 49.6988 358.533 49.6988C367.596 49.6988 371.71 55.7344 371.71 63.7456V65.3406H345.211V64.7244Z","M431.667 105.125C453.417 105.125 466.92 90.335 467.79 72.6994H451.768C450.644 82.4325 444.518 90.9512 431.667 90.9512C417.258 90.9512 411.095 81.0912 411.095 67.28V53.2694C411.095 39.4581 417.258 29.5981 431.667 29.5981C444.482 29.5981 450.644 38.0987 451.768 47.85H467.79C466.92 30.2144 453.49 15.4244 431.667 15.4244C405.658 15.4244 393.949 32.0631 393.949 54.1212V66.4462C393.949 88.5225 405.658 105.125 431.667 105.125Z","M476.889 103.421H493.655V65.4675C493.655 56.84 498.458 52.3994 505.98 52.3994C514.118 52.3994 517.689 57.71 517.689 65.0869V103.421H534.454V62.3862C534.454 47.2337 525.7 37.8631 511.78 37.8631C503.515 37.8631 496.99 41.4881 493.655 46.9256V13.4487H476.889V103.421Z","M566.445 104.907C573.84 104.907 581.978 101.826 584.932 97.5125V103.421H601.082V62.5131C601.082 47.5963 590.116 37.8631 574.094 37.8631C560.282 37.8631 550.295 44.515 546.598 56.9669H562.131C563.853 53.505 567.424 50.9313 573.224 50.9313C580.129 50.9313 584.316 55.3538 584.316 61.2806V70.035C579.662 66.4073 573.903 64.4878 568.004 64.5975C552.597 64.5975 542.121 71.0138 542.121 84.9338C542.157 97.3856 552.017 104.907 566.445 104.907ZM570.759 93.815C563.726 93.815 558.434 90.3712 558.434 84.4444C558.434 78.5175 563.364 75.3819 571.248 75.3819C578.77 75.3819 584.316 78.7169 584.316 84.4444C584.316 90.1719 578.117 93.815 570.759 93.815Z","M632.492 103.421H644.074V89.8637H637.205C632.764 89.8637 631.169 88.1419 631.169 83.955V52.8887H644.853V39.3312H631.169V21.8406H614.367V39.3312H605.305V52.8887H614.367V85.1875C614.367 96.5337 620.077 103.421 632.492 103.421Z"],po=Object(i.E)("svg",{target:"e1lie4030"})("height:13px;max-width:58px;margin-left:4px;position:relative;top:",(function(e){return"smooth"===e.theme.name?"2px":"1px"}),";"),fo=Object(L.b)((function(e){var t=e.theme,n=Object(g.a)(e,["theme"]),a=t.colors.brand,i=a.orange,o=a.black;return r.createElement(po,Object(s.a)({"aria-labelledby":"livechat-logo-label",viewBox:"0 0 645 145",fill:"none"},n),r.createElement("title",{id:"livechat-logo-label"},"livechat"),r.createElement("path",{d:"M144.096 90.1356C143.359 98.7467 139.392 106.76 132.991 112.567C126.589 118.373 118.228 121.542 109.586 121.438H90.5545L54.3045 145V121.438L90.5545 97.875H109.622C112.32 97.9725 114.954 97.0425 116.993 95.2729C119.032 93.5033 120.323 91.026 120.606 88.3413C121.714 70.2301 121.623 52.0654 120.334 33.9663C120.116 31.552 119.036 29.2968 117.292 27.6129C115.548 25.929 113.257 24.9288 110.836 24.795C98.4752 24.0338 85.4614 23.5625 72.4295 23.5625C59.3977 23.5625 46.3839 23.9975 34.0227 24.8675C31.6022 25.0013 29.3107 26.0015 27.5669 27.6854C25.8231 29.3693 24.7434 31.6245 24.5252 34.0387C23.2361 52.1379 23.1452 70.3026 24.2533 88.4137C24.5532 91.0854 25.8518 93.545 27.8887 95.2996C29.9256 97.0542 32.5504 97.9741 35.237 97.875H54.3045V121.438H35.2733C26.641 121.523 18.2952 118.343 11.9087 112.535C5.52217 106.727 1.56695 98.7192 0.835792 90.1175C-0.362946 70.7996 -0.272119 51.4233 1.10767 32.1175C1.79276 24.1116 5.31632 16.6141 11.0427 10.9774C16.7691 5.34078 24.3213 1.93607 32.337 1.3775C45.242 0.453125 58.8358 0 72.4295 0C86.0233 0 99.617 0.453125 112.522 1.3775C120.562 1.92172 128.141 5.32939 133.884 10.9825C139.626 16.6355 143.153 24.1596 143.824 32.19C145.201 51.4777 145.292 70.8358 144.096 90.1356Z",fill:i}),mo.map((function(e,t){return r.createElement("path",{key:t,d:e,fill:o})})))})),bo=Object(i.E)("div",{displayName:"Footer",section:!0,target:"e13tedl70"})(),ho=Object(i.E)("a",{displayName:"FooterLink",target:"e13tedl71"})("display:flex;direction:ltr;align-items:center;justify-content:center;"),go=Object(a.c)((function(e){var t=e.getApplicationState(),n=t.license,r=t.mobile,a=document.referrer?Object(D.k)(Object(D.d)(document.referrer)||""):"lc"+n,i=l.N(e);return{url:"https://www.livechat.com/powered-by-livechat/?"+Object(D.a)(Object(s.a)({partner:a,utm_campaign:a,utm_source:"chat_window",utm_medium:"referral"},i&&{utm_term:"nonprofit"})),hidden:l.g("hideTrademark",e).enabled||r}}),{shouldHandleStateChanges:!1})((function(e){var t=e.url;return e.hidden?null:r.createElement(bo,null,r.createElement(ho,{href:t,rel:"noreferrer",target:"_blank"},r.createElement("span",null,"Powered by "),r.createElement(fo,null)))})),vo=Object(i.E)("div",{target:"e1e979er0"})("z-index:101;border-radius:inherit;"),Eo=Object(i.E)("div",{target:"e1e979er1"})("z-index:101;position:relative;");t.default=Object(a.c)((function(e){return{destroyed:e.getApplicationState().destroyed,showLoader:Object(l.bb)(e)}}))((function(e){var t=e.destroyed,n=e.showLoader,a=e.enhancedToggle,i=e.showMinimizedButton,l=Object(o.w)(!0),s=Object(o.w)({x:0,y:0});return t?r.createElement(Ci,null):n?r.createElement(Bi,null):r.createElement(r.Fragment,null,r.createElement(vo,{id:"app-portal"}),r.createElement(Eo,{id:"tooltip-portal"}),r.createElement(uo,{isOnBottomSource:l,onMinimize:a,showMinimizedButton:i,scrollingDeltaSource:s}),r.createElement(Oi,{id:c.b,scrollingDeltaSource:s,isOnBottomSource:l}),r.createElement(go,null))}))}}]);